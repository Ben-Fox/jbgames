<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Daily Puzzles ‚Äî Four Daily Puzzle Games | BrainSmacks</title>
<meta name="description" content="Play Daily Puzzles ‚Äî four free daily puzzle games: ciphers, history ordering, spectrum guessing, and word clues. No download needed.">
<link rel="canonical" href="https://brainsmacks.com/fivefold/">
<meta property="og:type" content="website">
<meta property="og:title" content="Daily Puzzles ‚Äî Four Daily Puzzle Games | BrainSmacks">
<meta property="og:description" content="Four games, fresh daily. Free browser puzzle games ‚Äî play instantly.">
<meta property="og:url" content="https://brainsmacks.com/fivefold/">
<meta property="og:image" content="https://brainsmacks.com/fivefold/og-image.png">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<link rel="icon" type="image/svg+xml" href="/favicon.svg">
<meta property="og:site_name" content="BrainSmacks">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="Daily Puzzles ‚Äî Four Daily Puzzle Games | BrainSmacks">
<meta name="twitter:description" content="Four games, fresh daily. Free browser puzzle games.">
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,600;0,700;1,300;1,600&family=Azeret+Mono:wght@300;400;500;600&display=swap" rel="stylesheet"/>
<style>
:root {
  --ink: #f0f0f0;
  --bg: #0e0e12;
  --paper: #0e0e12;
  --paper2: #1a1a24;
  --paper3: #22222e;
  --gold: #c4960f;
  --gold-light: #e8b830;
  --rust: #d94f3d;
  --sage: #3a9a4a;
  --slate: #5a8ea8;
  --muted: #888;
  --accent: #7c3aed;
  --accent-light: #6d28d9;
  --border: rgba(255,255,255,0.08);
  --shadow: 0 2px 20px rgba(0,0,0,0.4);

  /* Light theme targets ‚Äî smoky newsprint */
  --ink-light: #2c2825;
  --bg-light: #f0ebe4;
  --paper-light: #f0ebe4;
  --paper2-light: #f7f3ed;
  --paper3-light: #e6e0d6;
  --muted-light: #7a746c;
  --border-light: rgba(60,50,40,0.12);
  --shadow-light: 0 2px 16px rgba(40,30,20,0.08);
}

/* Light theme applied after transition ‚Äî smoky newspaper vibe */
body.light-theme {
  --ink: #2c2825;
  --bg: #f0ebe4;
  --paper: #f0ebe4;
  --paper2: #f7f3ed;
  --paper3: #e6e0d6;
  --gold: #a07828;
  --gold-light: #c49a3c;
  --rust: #b5433a;
  --sage: #5a7a9a;
  --slate: #5a7a9a;
  --muted: #7a746c;
  --accent: #6b52a3;
  --accent-light: #5a4090;
  --border: rgba(60,50,40,0.12);
  --shadow: 0 2px 16px rgba(40,30,20,0.08);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

/* Performance: reduce layout thrashing */
.game-card, .spectrum-bar, .spectrum-guess-marker, .spectrum-target,
.cipher-cell, .letter-box, .chronicle-event, .round-dot, .result-banner {
  will-change: transform;
  contain: layout style;
}
.game-grid, #game-content { contain: layout; }

body {
  background: var(--bg);
  color: var(--ink);
  font-family: 'Azeret Mono', monospace;
  min-height: 100vh;
  background-attachment: fixed;
  transition: background-color 0.8s ease, color 0.8s ease;
}

body:not(.light-theme) {
  background-image:
    radial-gradient(ellipse at 20% 50%, rgba(124,58,237,0.06) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 20%, rgba(184,134,11,0.04) 0%, transparent 50%);
}

body.light-theme {
  background-image:
    radial-gradient(ellipse at 20% 50%, rgba(90,64,144,0.04) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 80%, rgba(160,120,40,0.04) 0%, transparent 50%),
    radial-gradient(ellipse at 50% 50%, rgba(60,50,40,0.02) 0%, transparent 80%);
}

/* Transition themed containers (not every element ‚Äî too expensive) */
body, #game-shell, #hub, .game-card, .game-header, .how-to-play, .big-prompt,
.result-banner, .back-btn, .submit-btn, .cipher-quote-area, .cipher-key,
.cipher-freq, .chronicle-event, .spectrum-bar, .feedback-msg {
  transition: background-color 0.8s ease, color 0.8s ease, border-color 0.8s ease, box-shadow 0.8s ease;
}

/* ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ */
@keyframes fadeIn { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeInScale { from { opacity: 0; transform: scale(0.95) translateY(8px); } to { opacity: 1; transform: scale(1) translateY(0); } }
@keyframes shake { 0%,100% { transform: translateX(0); } 20%,60% { transform: translateX(-6px); } 40%,80% { transform: translateX(6px); } }
@keyframes pop { 0% { transform: scale(1); } 40% { transform: scale(1.15); } 100% { transform: scale(1); } }
@keyframes popBounce { 0% { transform: scale(0.8); opacity: 0; } 50% { transform: scale(1.1); } 100% { transform: scale(1); opacity: 1; } }
@keyframes glow { 0%,100% { box-shadow: 0 0 8px rgba(124,58,237,0.3); } 50% { box-shadow: 0 0 20px rgba(124,58,237,0.6); } }
@keyframes pulse { 0%,100% { opacity: 0.6; } 50% { opacity: 1; } }
@keyframes slideDown { from { opacity: 0; max-height: 0; } to { opacity: 1; max-height: 200px; } }
@keyframes confettiBurst {
  0% { transform: translateY(0) rotate(0deg) scale(1); opacity: 1; }
  100% { transform: translateY(-80px) rotate(360deg) scale(0); opacity: 0; }
}
@keyframes flipIn {
  0% { transform: rotateX(90deg); opacity: 0; }
  100% { transform: rotateX(0deg); opacity: 1; }
}
@keyframes countUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes celebrateGlow {
  0% { box-shadow: 0 0 0 rgba(111,207,111,0); }
  50% { box-shadow: 0 0 40px rgba(111,207,111,0.3); }
  100% { box-shadow: 0 0 0 rgba(111,207,111,0); }
}
@keyframes markerPulse {
  0%,100% { box-shadow: 0 0 10px rgba(124,58,237,0.4); }
  50% { box-shadow: 0 0 24px rgba(124,58,237,0.8); }
}
@keyframes targetReveal {
  0% { opacity: 0; height: 0; transform: translate(-50%, -50%) scaleY(0); }
  50% { opacity: 1; height: 72px; transform: translate(-50%, -50%) scaleY(1.1); }
  100% { opacity: 1; height: 64px; transform: translate(-50%, -50%) scaleY(1); }
}
@keyframes markerSettle {
  0% { box-shadow: 0 0 10px rgba(124,58,237,0.4); }
  50% { box-shadow: 0 0 20px rgba(124,58,237,0.6); transform: translate(-50%, -50%) scale(1.2); }
  100% { box-shadow: 0 0 6px rgba(124,58,237,0.2); transform: translate(-50%, -50%) scale(1); }
}
@keyframes valueRevealSlide {
  0% { opacity: 0; transform: translateY(8px); max-height: 0; margin-top: 0; }
  100% { opacity: 1; transform: translateY(0); max-height: 60px; margin-top: 10px; }
}
@keyframes feedbackAppear {
  0% { opacity: 0; transform: translateY(-4px) scale(0.97); }
  100% { opacity: 1; transform: translateY(0) scale(1); }
}
@keyframes roundFadeOut {
  0% { opacity: 1; transform: translateY(0); }
  100% { opacity: 0; transform: translateY(-12px); }
}

/* ‚îÄ‚îÄ HUB ‚îÄ‚îÄ */
#hub {
  max-width: 900px;
  margin: 0 auto;
  padding: 0 20px 60px;
}

.hub-masthead {
  text-align: center;
  padding: 56px 20px 40px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 40px;
  animation: fadeIn 0.6s ease;
}

.hub-logo {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(42px, 7vw, 76px);
  font-weight: 700;
  letter-spacing: -2px;
  line-height: 1;
  background: linear-gradient(135deg, #a78bfa 0%, #c4b5fd 40%, #ff69b4 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;
  transition: none;
}

body.light-theme .hub-logo {
  background: linear-gradient(135deg, #5a4090 0%, #6b52a3 40%, #a07828 100%);
  -webkit-background-clip: text; background-clip: text;
}

.hub-logo span {
  -webkit-text-fill-color: var(--accent-light);
}

body.light-theme .hub-logo span {
  -webkit-text-fill-color: var(--accent);
}

.hub-tagline {
  font-size: 11px;
  letter-spacing: 4px;
  text-transform: uppercase;
  color: var(--muted);
  margin-top: 10px;
}

.week-badge {
  display: inline-block;
  margin-top: 16px;
  padding: 4px 14px;
  border: 1px solid rgba(124,58,237,.3);
  font-size: 10px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--accent-light);
  background: rgba(124,58,237,.08);
  border-radius: 20px;
}

.game-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  gap: 16px;
}

.game-card {
  background: var(--paper2);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 28px 24px 24px;
  cursor: pointer;
  transition: transform 0.3s cubic-bezier(.25,.46,.45,.94), box-shadow 0.35s, border-color 0.3s;
  position: relative;
  overflow: hidden;
  opacity: 0;
  animation: fadeInScale 0.5s ease forwards;
}
.game-card:nth-child(1) { animation-delay: 0.05s; }
.game-card:nth-child(2) { animation-delay: 0.12s; }
.game-card:nth-child(3) { animation-delay: 0.19s; }
.game-card:nth-child(4) { animation-delay: 0.26s; }

.game-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  background: var(--card-accent, var(--accent));
  border-radius: 16px 16px 0 0;
  transition: height 0.3s;
}
.game-card:hover::before { height: 4px; }

.game-card::after {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 16px;
  opacity: 0;
  transition: opacity 0.35s;
  background: radial-gradient(circle at 50% 0%, var(--card-accent, rgba(124,58,237,0.12)), transparent 70%);
  pointer-events: none;
}
.game-card:hover::after { opacity: 1; }

.game-card:hover {
  transform: translateY(-8px) scale(1.02);
  box-shadow: 0 12px 40px rgba(0,0,0,.5), 0 0 30px color-mix(in srgb, var(--card-accent, var(--accent)) 20%, transparent);
  border-color: color-mix(in srgb, var(--card-accent, var(--accent)) 50%, transparent);
}
body.light-theme .game-card:hover {
  box-shadow: 0 12px 40px rgba(0,0,0,.1), 0 0 30px color-mix(in srgb, var(--card-accent, var(--accent)) 12%, transparent);
}

.game-card.done { opacity: 0.5; }
.game-card.done { animation: fadeInScale 0.5s ease forwards; }

.card-emoji { font-size: 32px; display: block; margin-bottom: 12px; filter: drop-shadow(0 2px 4px rgba(0,0,0,.3)); }
.card-name {
  font-family: 'Cormorant Garamond', serif;
  font-size: 26px;
  font-weight: 700;
  margin-bottom: 4px;
  color: #fff;
}
body.light-theme .card-name { color: var(--ink); }
.card-type {
  font-size: 9px;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 10px;
}
.card-desc {
  font-size: 12px;
  line-height: 1.6;
  color: var(--muted);
}
.card-cta {
  margin-top: 18px;
  font-size: 10px;
  letter-spacing: 2px;
  text-transform: uppercase;
  font-weight: 600;
  color: var(--card-accent, var(--accent-light));
  padding: 8px 18px;
  border-radius: 10px;
  background: rgba(124,58,237,.1);
  display: inline-block;
  transition: all .25s;
}
.game-card:hover .card-cta { background: rgba(124,58,237,.2); transform: translateX(2px); }
.card-cta.done-label { color: var(--sage); background: rgba(111,207,111,.08); }

/* ‚îÄ‚îÄ GAME SHELL ‚îÄ‚îÄ */
#game-shell {
  display: none;
  max-width: 680px;
  margin: 0 auto;
  padding: 0 20px 60px;
  animation: fadeIn 0.3s ease;
}

.game-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 24px 0 20px;
  border-bottom: 1px solid var(--border);
  margin-bottom: 32px;
}

.back-btn {
  font-size: 11px;
  letter-spacing: 2px;
  text-transform: uppercase;
  background: var(--paper2);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 7px 14px;
  cursor: pointer;
  color: var(--muted);
  transition: all 0.2s;
  font-family: 'Azeret Mono', monospace;
}
.back-btn:hover { color: var(--ink); border-color: var(--accent); background: rgba(124,58,237,.1); }
body.light-theme .back-btn:hover { color: var(--accent); background: rgba(124,58,237,.06); }

.game-title-bar {
  font-family: 'Cormorant Garamond', serif;
  font-size: 28px;
  font-weight: 700;
}

.round-indicator {
  font-size: 10px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--muted);
}

/* ‚îÄ‚îÄ HOW TO PLAY ‚îÄ‚îÄ */
.how-to-play {
  background: var(--paper2);
  border: 1px solid var(--border);
  border-radius: 16px;
  padding: 28px 28px;
  margin-bottom: 28px;
  animation: fadeInScale 0.4s ease;
}

.htp-title {
  font-size: 9px;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--accent-light);
  margin-bottom: 14px;
  font-weight: 600;
}

.htp-text {
  font-size: 13px;
  line-height: 1.8;
  color: #ccc;
}
body.light-theme .htp-text { color: #5a5550; }

.htp-text strong { color: var(--accent-light); }
body.light-theme .htp-text strong { color: var(--accent); }

.htp-dismiss {
  margin-top: 20px;
  background: linear-gradient(135deg, #7c3aed, #a78bfa);
  color: #fff;
  border: none;
  border-radius: 10px;
  padding: 12px 28px;
  font-family: 'Azeret Mono', monospace;
  font-size: 11px;
  letter-spacing: 2px;
  text-transform: uppercase;
  cursor: pointer;
  transition: filter 0.2s, transform 0.15s;
  box-shadow: 0 4px 16px rgba(124,58,237,.3);
}
.htp-dismiss:hover { filter: brightness(1.2); transform: scale(1.03); }

/* ‚îÄ‚îÄ GAME CONTENT ‚îÄ‚îÄ */
.game-area { animation: fadeIn 0.35s ease; }

.prompt-label {
  font-size: 9px;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 10px;
}

.big-prompt {
  font-family: 'Cormorant Garamond', serif;
  font-size: clamp(18px, 3vw, 26px);
  font-weight: 600;
  line-height: 1.4;
  margin-bottom: 24px;
  padding: 18px 22px;
  background: var(--paper2);
  border-left: 3px solid var(--accent);
  border-radius: 0 12px 12px 0;
  border: 1px solid var(--border);
  border-left: 3px solid var(--accent);
}

.input-row {
  display: flex;
  gap: 8px;
  margin-bottom: 12px;
}

.game-input {
  flex: 1;
  padding: 12px 16px;
  font-family: 'Azeret Mono', monospace;
  font-size: 14px;
  border: 1px solid var(--border);
  background: var(--paper2);
  color: var(--ink);
  outline: none;
  border-radius: 10px;
  transition: border-color 0.2s, box-shadow 0.2s;
}
.game-input:focus { border-color: var(--accent); box-shadow: 0 0 0 3px rgba(124,58,237,.15); }

.submit-btn {
  padding: 12px 22px;
  background: linear-gradient(135deg, #7c3aed, #a78bfa);
  color: #fff;
  border: none;
  border-radius: 10px;
  font-family: 'Azeret Mono', monospace;
  font-size: 11px;
  letter-spacing: 2px;
  text-transform: uppercase;
  cursor: pointer;
  transition: filter 0.2s, transform 0.15s, box-shadow 0.2s;
  white-space: nowrap;
  box-shadow: 0 4px 12px rgba(124,58,237,.25);
}
.submit-btn:hover { filter: brightness(1.2); transform: scale(1.03); box-shadow: 0 6px 20px rgba(124,58,237,.35); }
.submit-btn:disabled { background: var(--paper3); color: var(--muted); cursor: default; filter: none; transform: none; box-shadow: none; }

.feedback-msg {
  font-size: 12px;
  padding: 10px 14px;
  margin-bottom: 12px;
  border-left: 3px solid var(--muted);
  border-radius: 0 8px 8px 0;
  animation: fadeIn 0.25s ease;
}
.feedback-msg.good { border-color: var(--sage); color: var(--sage); background: rgba(111,207,111,0.06); }
.feedback-msg.bad { border-color: var(--rust); color: var(--rust); background: rgba(239,107,91,0.06); animation: shake 0.4s ease; }

.guesses-list { margin-bottom: 16px; }
.guess-item {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 8px 12px;
  font-size: 12px;
  border-bottom: 1px solid var(--border);
}
.guess-mark { font-size: 14px; }
.guess-mark.correct { color: var(--sage); }
.guess-mark.wrong { color: var(--rust); }

.clue-reveal {
  padding: 10px 14px;
  background: var(--paper3);
  border-left: 3px solid var(--slate);
  border-radius: 0 8px 8px 0;
  font-size: 12px;
  margin-bottom: 8px;
  animation: fadeIn 0.3s;
}
.clue-num { color: var(--muted); font-size: 10px; margin-right: 6px; }

.round-progress {
  display: flex;
  gap: 6px;
  margin-bottom: 24px;
}
.round-dot {
  width: 28px;
  height: 6px;
  background: var(--paper3);
  border: 1px solid var(--border);
  border-radius: 3px;
  transition: all 0.4s cubic-bezier(.25,.46,.45,.94);
}
.round-dot.active { background: var(--accent); box-shadow: 0 0 8px rgba(124,58,237,.4); animation: pulse 2s infinite; }
.round-dot.won { background: var(--sage); border-color: var(--sage); box-shadow: 0 0 6px rgba(111,207,111,.3); }
.round-dot.lost { background: var(--rust); border-color: var(--rust); }

/* ‚îÄ‚îÄ RESULT BANNER ‚îÄ‚îÄ */
.result-banner {
  text-align: center;
  padding: 40px 24px;
  background: var(--paper2);
  border: 1px solid var(--border);
  border-radius: 16px;
  animation: fadeInScale 0.5s ease;
  position: relative;
  overflow: hidden;
}
.result-banner::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 16px;
  opacity: 0.06;
  pointer-events: none;
}
.result-banner.won { border-top: 3px solid var(--sage); animation: fadeInScale 0.5s ease, celebrateGlow 1.5s ease 0.3s; }
.result-banner.won::before { background: radial-gradient(circle at 50% 0%, var(--sage), transparent 60%); }
.result-banner.lost { border-top: 3px solid var(--rust); }
.result-banner.lost::before { background: radial-gradient(circle at 50% 0%, var(--rust), transparent 60%); }
.result-emoji { font-size: 48px; margin-bottom: 14px; animation: popBounce 0.6s ease 0.2s both; }
.result-title {
  font-family: 'Cormorant Garamond', serif;
  font-size: 34px;
  font-weight: 700;
  margin-bottom: 6px;
}
.result-answer {
  font-size: 13px;
  color: var(--muted);
  margin-bottom: 6px;
}
.result-score {
  font-size: 24px;
  font-weight: 600;
  color: var(--accent-light);
  margin: 14px 0;
  animation: countUp 0.5s ease 0.4s both;
}
.result-sub { font-size: 11px; color: var(--muted); letter-spacing: 1px; }

/* Confetti particles (CSS only) */
.confetti-container {
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 100%;
  pointer-events: none;
  overflow: hidden;
}
.confetti-particle {
  position: absolute;
  width: 8px;
  height: 8px;
  border-radius: 2px;
  animation: confettiFall 1.5s ease forwards;
  opacity: 0;
}
@keyframes confettiFall {
  0% { transform: translateY(-20px) rotate(0deg); opacity: 1; }
  100% { transform: translateY(120px) rotate(720deg); opacity: 0; }
}

/* ‚îÄ‚îÄ CIPHER ‚îÄ‚îÄ */
.cipher-quote-area {
  padding: 22px;
  background: var(--paper2);
  border: 1px solid var(--border);
  border-left: 3px solid var(--gold);
  border-radius: 0 12px 12px 0;
  margin-bottom: 20px;
  line-height: 1.2;
}

.cipher-word {
  display: inline-block;
  margin-right: 14px;
  margin-bottom: 10px;
}

.cipher-cell {
  display: inline-flex;
  flex-direction: column;
  align-items: center;
  width: 26px;
  cursor: pointer;
  transition: all 0.2s;
  position: relative;
}

.cipher-cell.punct {
  cursor: default;
  width: auto;
  min-width: 10px;
}

.cipher-encoded {
  font-family: 'Azeret Mono', monospace;
  font-size: 10px;
  color: var(--muted);
  height: 16px;
  line-height: 16px;
}

.cipher-decoded {
  font-family: 'Cormorant Garamond', serif;
  font-size: 22px;
  font-weight: 700;
  height: 30px;
  line-height: 30px;
  min-width: 20px;
  text-align: center;
  border-bottom: 2px solid var(--border);
  transition: all 0.25s ease;
}

.cipher-cell.selected .cipher-decoded {
  border-color: var(--gold);
  background: rgba(212,160,23,0.1);
  box-shadow: 0 2px 8px rgba(212,160,23,.15);
}

.cipher-cell.locked .cipher-decoded {
  border-color: var(--sage);
  background: rgba(111,207,111,0.08);
  color: var(--sage);
}

.cipher-cell.mapped .cipher-decoded {
  color: var(--ink);
  border-color: var(--slate);
}

.cipher-cell.locked .cipher-encoded {
  color: var(--sage);
}

.cipher-cell.just-mapped .cipher-decoded {
  animation: flipIn 0.3s ease;
}

.cipher-toolbar {
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
  margin-bottom: 16px;
}

.cipher-progress {
  font-size: 11px;
  color: var(--muted);
  letter-spacing: 1px;
}

.cipher-hint-btn {
  padding: 8px 16px;
  background: linear-gradient(135deg, var(--gold), var(--gold-light));
  color: #1a1a24;
  border: none;
  border-radius: 8px;
  font-family: 'Azeret Mono', monospace;
  font-size: 10px;
  letter-spacing: 2px;
  text-transform: uppercase;
  cursor: pointer;
  transition: filter 0.2s, transform 0.15s;
  font-weight: 600;
}
.cipher-hint-btn:hover { filter: brightness(1.15); transform: scale(1.03); }

.cipher-keyboard {
  display: grid;
  grid-template-columns: repeat(9, 1fr);
  gap: 5px;
  margin-bottom: 16px;
}
.cipher-key {
  padding: 10px 4px;
  text-align: center;
  font-size: 12px;
  font-weight: 600;
  background: var(--paper2);
  border: 1px solid var(--border);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.15s;
  text-transform: uppercase;
  color: var(--ink);
}
.cipher-key:hover { background: var(--accent); color: #fff; border-color: var(--accent); box-shadow: 0 2px 8px rgba(124,58,237,.2); }
.cipher-key.used { background: var(--paper3); color: var(--muted); opacity: 0.4; }
.cipher-key.locked { background: rgba(111,207,111,0.1); color: var(--sage); cursor: default; border-color: rgba(111,207,111,.3); }

.cipher-map-grid {
  display: grid;
  grid-template-columns: repeat(13, 1fr);
  gap: 3px;
  margin-bottom: 16px;
}

.cipher-map-cell {
  text-align: center;
  padding: 4px 2px;
  background: var(--paper2);
  border: 1px solid var(--border);
  border-radius: 4px;
  cursor: pointer;
  transition: all 0.2s;
}
.cipher-map-cell:hover { border-color: var(--gold); }
.cipher-map-cell.locked { border-color: rgba(111,207,111,.3); background: rgba(111,207,111,0.06); }
.cipher-map-cell.selected { border-color: var(--gold); background: rgba(212,160,23,0.08); }
.cipher-map-enc {
  font-size: 11px;
  font-weight: 600;
  color: var(--ink);
}
.cipher-map-arrow {
  font-size: 8px;
  color: var(--muted);
}
.cipher-map-dec {
  font-size: 13px;
  font-weight: 700;
  min-height: 16px;
  color: var(--sage);
}

.cipher-freq {
  margin-bottom: 20px;
  background: var(--paper2);
  border: 1px solid var(--border);
  border-radius: 12px;
  padding: 16px;
}
.cipher-freq-title {
  font-size: 9px;
  letter-spacing: 3px;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 10px;
}
.cipher-freq-bars {
  display: flex;
  align-items: flex-end;
  gap: 2px;
  height: 60px;
  padding: 0 2px;
}
.cipher-freq-col {
  flex: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 2px;
  cursor: pointer;
}
.cipher-freq-col:hover .cipher-freq-bar { background: var(--gold); opacity: 1; }
.cipher-freq-col.selected .cipher-freq-bar { background: var(--gold); opacity: 1; }
.cipher-freq-bar {
  width: 100%;
  background: var(--accent-light);
  opacity: 0.5;
  transition: all 0.25s;
  border-radius: 2px 2px 0 0;
  min-height: 2px;
}
.cipher-freq-lbl {
  font-size: 8px;
  color: var(--muted);
  font-weight: 600;
}
.cipher-freq-hint {
  font-size: 10px;
  color: var(--muted);
  margin-top: 6px;
  font-style: italic;
}

/* ‚îÄ‚îÄ CHRONICLE ‚îÄ‚îÄ */
.chronicle-events {
  margin-bottom: 20px;
}
.chronicle-event {
  padding: 14px 16px;
  background: var(--paper2);
  border: 1px solid var(--border);
  border-radius: 12px;
  margin-bottom: 8px;
  cursor: grab;
  transition: all 0.25s cubic-bezier(.25,.46,.45,.94);
  font-size: 13px;
  line-height: 1.5;
  display: flex;
  align-items: center;
  gap: 12px;
  user-select: none;
}
.chronicle-event:hover { border-color: var(--accent); transform: translateX(4px); }
.chronicle-event.dragging { opacity: 0.4; transform: scale(0.98); }
.chronicle-event.correct-pos {
  border-color: var(--sage);
  background: rgba(111,207,111,0.06);
  cursor: default;
}
.chronicle-event.correct-pos .event-num { border-color: var(--sage); color: var(--sage); }
.chronicle-event.wrong-pos { border-color: var(--rust); background: rgba(239,107,91,0.05); animation: shake 0.4s ease; }
.event-handle { color: var(--muted); font-size: 16px; cursor: grab; opacity: 0.5; transition: opacity 0.2s; }
.chronicle-event:hover .event-handle { opacity: 1; }
.event-num {
  width: 26px;
  height: 26px;
  border: 1px solid var(--border);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 11px;
  font-weight: 600;
  flex-shrink: 0;
  color: var(--muted);
  transition: all 0.3s;
}

/* Timeline connector dots */
.chronicle-timeline {
  position: relative;
  padding-left: 20px;
}
.chronicle-timeline::before {
  content: '';
  position: absolute;
  left: 8px;
  top: 20px;
  bottom: 20px;
  width: 2px;
  background: var(--border);
}

/* ‚îÄ‚îÄ WAVELENGTH ‚îÄ‚îÄ */
.spectrum-bar {
  position: relative;
  height: 52px;
  background: linear-gradient(90deg, var(--slate), var(--accent), var(--rust));
  border-radius: 14px;
  margin-bottom: 8px;
  overflow: visible;
  box-shadow: inset 0 2px 6px rgba(0,0,0,.15), 0 0 20px rgba(124,58,237,.08);
}
.spectrum-bar .mid-tick {
  position: absolute;
  left: 50%;
  top: 0;
  bottom: 0;
  width: 2px;
  background: rgba(255,255,255,0.25);
  transform: translateX(-50%);
  pointer-events: none;
}
.wl-category-badge {
  text-align: center;
  font-size: 11px;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--gold);
  margin-bottom: 6px;
  font-weight: 600;
}
.wl-value-reveal {
  text-align: center;
  font-size: 12px;
  color: var(--muted);
  margin-top: 4px;
  font-style: italic;
  animation: fadeIn 0.4s ease;
}
.wl-hint {
  text-align: center;
  font-size: 11px;
  color: var(--muted);
  opacity: 0.7;
  margin-top: 2px;
  margin-bottom: 4px;
}
.spectrum-labels {
  display: flex;
  justify-content: space-between;
  font-size: 13px;
  color: var(--muted);
  letter-spacing: 1px;
  margin-bottom: 20px;
  padding: 0 4px;
  position: relative;
}
.spectrum-labels .mid-label {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  font-size: 11px;
  opacity: 0.7;
}
.spectrum-target {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 4px;
  height: 64px;
  background: var(--ink);
  border-radius: 2px;
  box-shadow: 0 0 10px rgba(255,255,255,.3);
  animation: targetReveal 0.5s cubic-bezier(.34,1.56,.64,1) forwards;
}
body.light-theme .spectrum-target { box-shadow: 0 0 10px rgba(0,0,0,.2); }
.spectrum-target::after {
  content: '‚ñº';
  position: absolute;
  top: -18px;
  left: 50%;
  transform: translateX(-50%);
  font-size: 12px;
  color: var(--ink);
}
.spectrum-guess-marker {
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);
  width: 22px;
  height: 22px;
  border-radius: 50%;
  border: 3px solid var(--accent-light);
  background: var(--bg);
  cursor: pointer;
  transition: left 0.1s;
  animation: markerPulse 2s infinite;
  z-index: 2;
}
.spectrum-slider {
  width: 100%;
  margin-bottom: 16px;
  accent-color: var(--accent);
  cursor: pointer;
  height: 6px;
}

/* ‚îÄ‚îÄ MIMIC ‚îÄ‚îÄ */
.mimic-blanks {
  display: flex;
  gap: 7px;
  margin-bottom: 16px;
  flex-wrap: wrap;
}
.letter-box {
  width: 40px;
  height: 50px;
  border: 2px solid var(--border);
  border-radius: 10px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 18px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 1px;
  transition: all 0.3s;
  background: var(--paper2);
  perspective: 400px;
}
.letter-box.correct {
  border-color: var(--sage);
  background: rgba(111,207,111,0.1);
  color: var(--sage);
  animation: popBounce 0.4s ease;
}
.letter-box.present {
  border-color: var(--gold);
  background: rgba(212,160,23,0.1);
  color: var(--gold);
  animation: flipIn 0.3s ease;
}
.letter-box.absent {
  border-color: rgba(255,255,255,.06);
  background: var(--paper3);
  color: var(--muted);
  animation: flipIn 0.3s ease;
}
body.light-theme .letter-box.absent { border-color: rgba(0,0,0,.08); }
.letter-box.empty { border-color: var(--border); }
/* Cascade delay for letter boxes */
.letter-box:nth-child(1) { animation-delay: 0s; }
.letter-box:nth-child(2) { animation-delay: 0.08s; }
.letter-box:nth-child(3) { animation-delay: 0.16s; }
.letter-box:nth-child(4) { animation-delay: 0.24s; }
.letter-box:nth-child(5) { animation-delay: 0.32s; }

.mimic-difficulty {
  font-size: 10px;
  letter-spacing: 2px;
  text-transform: uppercase;
  margin-bottom: 10px;
  padding: 4px 12px;
  border-radius: 6px;
  display: inline-block;
}
.mimic-difficulty.easy { color: var(--sage); background: rgba(111,207,111,.08); }
.mimic-difficulty.medium { color: var(--gold); background: rgba(212,160,23,.08); }
.mimic-difficulty.hard { color: var(--rust); background: rgba(239,107,91,.08); }

/* ‚îÄ‚îÄ SCORE BAR ‚îÄ‚îÄ */
.score-bar {
  display: flex;
  gap: 6px;
  margin-bottom: 24px;
  align-items: center;
  flex-wrap: wrap;
}
.score-pip {
  width: 24px; height: 24px;
  border: 1px solid var(--border);
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 10px;
  font-weight: 600;
  transition: all 0.3s;
}
.score-pip.won { background: rgba(111,207,111,.15); color: var(--sage); border-color: rgba(111,207,111,.3); }
.score-pip.lost { background: rgba(239,107,91,.1); color: var(--rust); border-color: rgba(239,107,91,.2); }
.score-label { font-size: 10px; color: var(--muted); letter-spacing: 1px; margin-left: 8px; }

/* ‚îÄ‚îÄ Responsive ‚îÄ‚îÄ */
/* ‚îÄ‚îÄ Tablet ‚îÄ‚îÄ */
@media (max-width: 768px) {
  #hub { padding: 0 16px 40px; }
  .hub-masthead { padding: 40px 16px 30px; }
  .game-grid { grid-template-columns: repeat(2, 1fr); gap: 12px; }
  #game-shell { padding: 0 16px 40px; }
  .game-header { padding: 18px 0 14px; }
  .game-title-bar { font-size: 24px; }
  .big-prompt { font-size: 18px; padding: 14px 18px; }
  .spectrum-bar { height: 46px; }
  .cipher-quote-area { padding: 16px; }
  .cipher-freq-bars { height: 50px; }
}

/* ‚îÄ‚îÄ Phone ‚îÄ‚îÄ */
@media (max-width: 480px) {
  /* Hub */
  .hub-logo { font-size: 36px; }
  .hub-tagline { font-size: 10px; letter-spacing: 2px; }
  .hub-masthead { padding: 32px 12px 24px; margin-bottom: 24px; }
  .game-grid { grid-template-columns: 1fr; gap: 10px; }
  .game-card { padding: 22px 18px 20px; }
  .card-name { font-size: 22px; }

  /* Game shell */
  #game-shell { max-width: 100%; padding: 0 12px 40px; }
  .game-header { flex-wrap: wrap; gap: 8px; }
  .game-title-bar { font-size: 20px; }
  .back-btn { padding: 6px 10px; font-size: 10px; }
  .round-indicator { font-size: 9px; }

  /* Prompts & inputs */
  .big-prompt { font-size: 16px; padding: 12px 14px; }
  .input-row { flex-direction: column; }
  .game-input { font-size: 16px; /* prevents iOS zoom */ }
  .submit-btn { width: 100%; padding: 14px 22px; }

  /* Cipher */
  .cipher-keyboard { grid-template-columns: repeat(7, 1fr); gap: 4px; }
  .cipher-key { padding: 12px 2px; font-size: 13px; }
  .cipher-map-grid { grid-template-columns: repeat(9, 1fr); gap: 2px; }
  .cipher-map-enc { font-size: 10px; }
  .cipher-map-dec { font-size: 11px; }
  .cipher-quote-area { padding: 14px 10px; line-height: 1.3; }
  .cipher-cell { width: 22px; }
  .cipher-decoded { font-size: 18px; height: 26px; line-height: 26px; }
  .cipher-encoded { font-size: 9px; }
  .cipher-word { margin-right: 10px; margin-bottom: 8px; }
  .cipher-freq { padding: 12px; }
  .cipher-freq-bars { height: 45px; }
  .cipher-toolbar { gap: 8px; }

  /* Chronicle */
  .chronicle-event { font-size: 12px; padding: 12px 10px; gap: 8px; }
  .event-num { width: 22px; height: 22px; font-size: 10px; }

  /* Wavelength */
  .spectrum-bar { height: 42px; border-radius: 10px; }
  .spectrum-guess-marker { width: 20px; height: 20px; }
  .spectrum-labels { font-size: 11px; letter-spacing: 0; }
  .spectrum-labels .mid-label { font-size: 10px; }
  .wl-category-badge { font-size: 10px; letter-spacing: 1px; }
  .spectrum-slider { height: 8px; /* easier to tap on mobile */ }

  /* Mimic */
  .letter-box { width: 36px; height: 44px; font-size: 16px; }
  .mimic-blanks { gap: 5px; justify-content: center; }

  /* Results */
  .result-banner { padding: 28px 16px; }
  .result-title { font-size: 28px; }
  .result-score { font-size: 20px; }
  .score-bar { gap: 4px; }
  .score-pip { width: 22px; height: 22px; font-size: 9px; }

  /* Round dots */
  .round-progress { gap: 4px; }
  .round-dot { width: 24px; height: 5px; }

  /* How to play */
  .how-to-play { padding: 20px 18px; }
  .htp-text { font-size: 12px; }
  .htp-dismiss { padding: 12px 22px; width: 100%; }
}

/* ‚îÄ‚îÄ Tiny phones ‚îÄ‚îÄ */
@media (max-width: 360px) {
  .hub-logo { font-size: 30px; }
  .game-grid { gap: 8px; }
  .cipher-keyboard { grid-template-columns: repeat(6, 1fr); }
  .cipher-map-grid { grid-template-columns: repeat(7, 1fr); }
  .letter-box { width: 32px; height: 40px; font-size: 15px; }
  .cipher-cell { width: 20px; }
  .cipher-decoded { font-size: 16px; }
  .big-prompt { font-size: 15px; }
  .spectrum-labels { font-size: 10px; }
  .spectrum-labels .mid-label { font-size: 9px; }
}

/* ‚îÄ‚îÄ Touch-friendly: larger tap targets on touch devices ‚îÄ‚îÄ */
@media (hover: none) and (pointer: coarse) {
  .cipher-key { padding: 14px 4px; min-height: 44px; }
  .cipher-cell { min-width: 28px; min-height: 44px; }
  .chronicle-event { min-height: 48px; }
  .spectrum-slider { height: 10px; }
  .submit-btn { min-height: 48px; }
  .back-btn { min-height: 40px; }
  .htp-dismiss { min-height: 48px; }
}

/* ‚îÄ‚îÄ Light theme: replace green with ink-blue for newspaper feel ‚îÄ‚îÄ */
body.light-theme .card-cta.done-label { color: var(--sage); background: rgba(90,122,154,.1); }
body.light-theme .feedback-msg.good { border-color: var(--sage); color: var(--sage); background: rgba(90,122,154,0.06); }
body.light-theme .guess-mark.correct { color: var(--sage); }
body.light-theme .round-dot.won { background: var(--sage); border-color: var(--sage); box-shadow: 0 0 6px rgba(90,122,154,.3); }
body.light-theme .result-banner.won { border-top: 3px solid var(--sage); }
body.light-theme .result-banner.won::before { background: radial-gradient(circle at 50% 0%, var(--sage), transparent 60%); }
body.light-theme .cipher-cell.locked .cipher-decoded { border-color: var(--sage); background: rgba(90,122,154,0.08); color: var(--sage); }
body.light-theme .cipher-cell.locked .cipher-encoded { color: var(--sage); }
body.light-theme .cipher-key.locked { background: rgba(90,122,154,0.1); color: var(--sage); border-color: rgba(90,122,154,.3); }
body.light-theme .cipher-map-cell.locked { border-color: rgba(90,122,154,.3); background: rgba(90,122,154,0.06); }
body.light-theme .cipher-map-dec { color: var(--sage); }
body.light-theme .chronicle-event.correct-pos { border-color: var(--sage); background: rgba(90,122,154,0.06); }
body.light-theme .chronicle-event.correct-pos .event-num { border-color: var(--sage); color: var(--sage); }
body.light-theme .letter-box.correct { border-color: var(--sage); background: rgba(90,122,154,0.1); color: var(--sage); }
body.light-theme .mimic-difficulty.easy { color: var(--sage); background: rgba(90,122,154,.08); }
body.light-theme .score-pip.won { background: rgba(90,122,154,.15); color: var(--sage); border-color: rgba(90,122,154,.3); }
</style>
</head>
<body>

<!-- Home button moved into game header -->

<!-- GAME SHELL (no hub ‚Äî games launch directly) -->
<div id="game-shell">
  <div class="game-header">
    <a href="../" class="back-btn" id="home-nav">üè† Home</a>
    <div class="game-title-bar" id="shell-title"></div>
    <div style="display:flex;gap:6px;align-items:center;">
      <div class="round-indicator" id="shell-round"></div>
      <button class="back-btn" id="next-game-btn" style="display:none;">Next Game ‚Üí</button>
    </div>
  </div>
  <div id="game-content"></div>
</div>

<script>
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DARK ‚Üí LIGHT THEME TRANSITION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
(function() {
  // Page loads in dark theme (matching BrainSmacks), then transitions to light
  requestAnimationFrame(() => {
    requestAnimationFrame(() => {
      document.body.classList.add('light-theme');
      // Update home button for light theme
      // Light theme applied ‚Äî update nav styles
      const homeNav = document.getElementById('home-nav');
      if (homeNav) {
        homeNav.style.background = 'rgba(240,235,228,0.9)';
        homeNav.style.color = '#2c2825';
        homeNav.style.borderColor = 'rgba(60,50,40,.12)';
      }
    });
  });
})();

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// DAY CALCULATION
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function getDayIndex(poolSize, gameOffset) {
  const epoch = new Date("2024-01-01");
  const now = new Date();
  const msPerDay = 1000 * 60 * 60 * 24;
  const days = Math.floor((now - epoch) / msPerDay);
  // Each game gets a different offset so they don't cycle in lockstep
  return (days + (gameOffset || 0)) % poolSize;
}

// Per-game offsets so the 4 games pick different puzzles each day
const GAME_OFFSETS = { cipher: 0, chronicle: 7, wavelength: 13, mimic: 23 };

function getDayLabel() {
  const now = new Date();
  return now.toLocaleDateString('en-US', { weekday: 'long', month: 'long', day: 'numeric', year: 'numeric' });
}

function dayKey() {
  const now = new Date();
  return `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}-${String(now.getDate()).padStart(2,'0')}`;
}

function saveProgress(gameId, data) {
  const key = `fivefold_${gameId}_day_${dayKey()}`;
  localStorage.setItem(key, JSON.stringify(data));
}

function loadProgress(gameId) {
  const key = `fivefold_${gameId}_day_${dayKey()}`;
  try { return JSON.parse(localStorage.getItem(key)); } catch(e) { return null; }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// PUZZLE DATA POOLS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

const CIPHER_POOL = [
  { plain: "THE ONLY WAY TO DO GREAT WORK IS TO LOVE WHAT YOU DO", author: "Steve Jobs" },
  { plain: "IN THE MIDDLE OF DIFFICULTY LIES OPPORTUNITY", author: "Albert Einstein" },
  { plain: "IT DOES NOT MATTER HOW SLOWLY YOU GO AS LONG AS YOU DO NOT STOP", author: "Confucius" },
  { plain: "YOU MISS ONE HUNDRED PERCENT OF THE SHOTS YOU DO NOT TAKE", author: "Wayne Gretzky" },
  { plain: "LIFE IS WHAT HAPPENS WHEN YOU ARE BUSY MAKING OTHER PLANS", author: "John Lennon" },
  { plain: "TO BE OR NOT TO BE THAT IS THE QUESTION", author: "William Shakespeare" },
  { plain: "I THINK THEREFORE I AM", author: "Rene Descartes" },
  { plain: "THE UNEXAMINED LIFE IS NOT WORTH LIVING", author: "Socrates" },
  { plain: "THAT WHICH DOES NOT KILL US MAKES US STRONGER", author: "Friedrich Nietzsche" },
  { plain: "BE THE CHANGE YOU WISH TO SEE IN THE WORLD", author: "Mahatma Gandhi" },
  { plain: "TWO THINGS ARE INFINITE THE UNIVERSE AND HUMAN STUPIDITY", author: "Albert Einstein" },
  { plain: "IMAGINATION IS MORE IMPORTANT THAN KNOWLEDGE", author: "Albert Einstein" },
  { plain: "TO ERR IS HUMAN TO FORGIVE DIVINE", author: "Alexander Pope" },
  { plain: "KNOWLEDGE IS POWER", author: "Francis Bacon" },
  { plain: "THE ONLY THING WE HAVE TO FEAR IS FEAR ITSELF", author: "Franklin D. Roosevelt" },
  { plain: "I HAVE A DREAM THAT ONE DAY THIS NATION WILL RISE UP", author: "Martin Luther King Jr." },
  { plain: "GIVE ME LIBERTY OR GIVE ME DEATH", author: "Patrick Henry" },
  { plain: "NOT ALL THOSE WHO WANDER ARE LOST", author: "J.R.R. Tolkien" },
  { plain: "ALL THAT GLITTERS IS NOT GOLD", author: "William Shakespeare" },
  { plain: "INJUSTICE ANYWHERE IS A THREAT TO JUSTICE EVERYWHERE", author: "Martin Luther King Jr." },
  { plain: "THE PEN IS MIGHTIER THAN THE SWORD", author: "Edward Bulwer-Lytton" },
  { plain: "AN EYE FOR AN EYE ONLY ENDS UP MAKING THE WHOLE WORLD BLIND", author: "Mahatma Gandhi" },
  { plain: "IN THREE WORDS I CAN SUM UP EVERYTHING I LEARNED ABOUT LIFE IT GOES ON", author: "Robert Frost" },
  { plain: "STAY HUNGRY STAY FOOLISH", author: "Steve Jobs" },
  { plain: "WE ARE WHAT WE REPEATEDLY DO EXCELLENCE THEN IS NOT AN ACT BUT A HABIT", author: "Will Durant" },
  { plain: "THE GREATEST GLORY IN LIVING LIES NOT IN NEVER FALLING BUT IN RISING EVERY TIME WE FALL", author: "Nelson Mandela" },
  { plain: "DO NOT GO GENTLE INTO THAT GOOD NIGHT", author: "Dylan Thomas" },
  { plain: "I CAME I SAW I CONQUERED", author: "Julius Caesar" },
  { plain: "THE ONLY TRUE WISDOM IS IN KNOWING YOU KNOW NOTHING", author: "Socrates" },
  { plain: "IF YOU JUDGE PEOPLE YOU HAVE NO TIME TO LOVE THEM", author: "Mother Teresa" },
  { plain: "A ROOM WITHOUT BOOKS IS LIKE A BODY WITHOUT A SOUL", author: "Marcus Tullius Cicero" },
  { plain: "WHOEVER FIGHTS MONSTERS SHOULD SEE TO IT THAT HE DOES NOT BECOME A MONSTER", author: "Friedrich Nietzsche" },
];

function makeCipher(plain) {
  const week = getDayIndex(997, GAME_OFFSETS.cipher);
  const shuffle = (arr, seed) => {
    const a = [...arr];
    let s = seed;
    for (let i = a.length - 1; i > 0; i--) {
      s = (s * 1664525 + 1013904223) & 0xffffffff;
      const j = Math.abs(s) % (i + 1);
      [a[i], a[j]] = [a[j], a[i]];
    }
    return a;
  };
  const letters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('');
  const shuffled = shuffle([...letters], week + 42);
  const encMap = {};
  const decMap = {};
  letters.forEach((l, i) => { encMap[l] = shuffled[i]; decMap[shuffled[i]] = l; });
  const encoded = plain.split('').map(c => c === ' ' ? ' ' : (encMap[c] || c)).join('');
  return { plain, encoded, encMap, decMap };
}

const CHRONICLE_POOL = [
  {
    events: [
      { text: "The Wright Brothers achieve the first powered flight at Kitty Hawk.", year: 1903 },
      { text: "Alexander Fleming discovers penicillin in his London lab.", year: 1928 },
      { text: "Edmund Hillary and Tenzing Norgay summit Mount Everest.", year: 1953 },
      { text: "The first human heart transplant is performed by Christiaan Barnard.", year: 1967 },
      { text: "The World Wide Web is invented by Tim Berners-Lee at CERN.", year: 1989 },
    ]
  },
  {
    events: [
      { text: "The Titanic sinks on its maiden voyage in the North Atlantic.", year: 1912 },
      { text: "Charles Lindbergh completes the first solo transatlantic flight.", year: 1927 },
      { text: "Alan Turing publishes his famous paper proposing the Turing test.", year: 1950 },
      { text: "Four students are killed during a protest at Kent State University.", year: 1970 },
      { text: "The Human Genome Project is declared complete.", year: 2003 },
    ]
  },
  {
    events: [
      { text: "Marie Curie becomes the first woman to win a Nobel Prize.", year: 1903 },
      { text: "John Logie Baird demonstrates the first television broadcast.", year: 1926 },
      { text: "Watson and Crick describe the double-helix structure of DNA.", year: 1953 },
      { text: "Ray Tomlinson sends the first email over ARPANET.", year: 1971 },
      { text: "Dolly the sheep becomes the first mammal cloned from adult cells.", year: 1996 },
    ]
  },
  {
    events: [
      { text: "Mahatma Gandhi leads the Salt March in protest of British rule.", year: 1930 },
      { text: "The United Nations is officially established.", year: 1945 },
      { text: "Yuri Gagarin becomes the first human to travel to outer space.", year: 1961 },
      { text: "The first Apple Macintosh personal computer is introduced.", year: 1984 },
      { text: "Wikipedia is launched as a free online encyclopedia.", year: 2001 },
    ]
  },
  {
    events: [
      { text: "The Eiffel Tower is completed in Paris for the World's Fair.", year: 1889 },
      { text: "The Panama Canal opens, connecting the Atlantic and Pacific Oceans.", year: 1914 },
      { text: "Penicillin is first used to treat a human patient.", year: 1941 },
      { text: "The Berlin Wall falls, reuniting East and West Germany.", year: 1989 },
      { text: "The Mars Curiosity rover successfully lands on the red planet.", year: 2012 },
    ]
  },
  {
    events: [
      { text: "The Declaration of Independence is signed in Philadelphia.", year: 1776 },
      { text: "Napoleon Bonaparte is defeated at the Battle of Waterloo.", year: 1815 },
      { text: "Charles Darwin publishes On the Origin of Species.", year: 1859 },
      { text: "The first Nobel Prizes are awarded in Stockholm.", year: 1901 },
      { text: "Rosa Parks refuses to give up her bus seat in Montgomery, Alabama.", year: 1955 },
    ]
  },
  {
    events: [
      { text: "The Magna Carta is sealed by King John of England.", year: 1215 },
      { text: "Johannes Gutenberg prints the first Bible using movable type.", year: 1455 },
      { text: "Christopher Columbus reaches the Americas.", year: 1492 },
      { text: "William Shakespeare writes Hamlet.", year: 1600 },
      { text: "Isaac Newton publishes the Principia Mathematica.", year: 1687 },
    ]
  },
  {
    events: [
      { text: "The Bastille is stormed, igniting the French Revolution.", year: 1789 },
      { text: "The Rosetta Stone is discovered in Egypt.", year: 1799 },
      { text: "The first photograph is taken by Joseph Nicephore Niepce.", year: 1826 },
      { text: "The American Civil War begins at Fort Sumter.", year: 1861 },
      { text: "Alexander Graham Bell patents the telephone.", year: 1876 },
    ]
  },
  {
    events: [
      { text: "The first modern Olympic Games are held in Athens.", year: 1896 },
      { text: "Albert Einstein publishes his theory of special relativity.", year: 1905 },
      { text: "Women gain the right to vote in the United States.", year: 1920 },
      { text: "The stock market crashes on Black Tuesday, starting the Great Depression.", year: 1929 },
      { text: "Neil Armstrong walks on the moon.", year: 1969 },
    ]
  },
  {
    events: [
      { text: "The Great Fire of London destroys much of the city.", year: 1666 },
      { text: "The Boston Tea Party protests British taxation.", year: 1773 },
      { text: "Abraham Lincoln issues the Emancipation Proclamation.", year: 1863 },
      { text: "The first transatlantic radio signal is sent by Marconi.", year: 1901 },
      { text: "The Treaty of Versailles formally ends World War I.", year: 1919 },
    ]
  },
  {
    events: [
      { text: "Galileo Galilei observes Jupiter's moons through his telescope.", year: 1610 },
      { text: "The United States purchases Louisiana from France.", year: 1803 },
      { text: "The Suez Canal opens, connecting the Mediterranean and Red Seas.", year: 1869 },
      { text: "Archduke Franz Ferdinand is assassinated, sparking World War I.", year: 1914 },
      { text: "India gains independence from British rule.", year: 1947 },
    ]
  },
  {
    events: [
      { text: "The Mayflower lands at Plymouth Rock.", year: 1620 },
      { text: "Benjamin Franklin flies his famous kite in a thunderstorm.", year: 1752 },
      { text: "The Transcontinental Railroad is completed in the United States.", year: 1869 },
      { text: "The Wright Brothers achieve powered flight.", year: 1903 },
      { text: "The first atomic bomb is detonated at the Trinity test site.", year: 1945 },
    ]
  },
  {
    events: [
      { text: "Vasco da Gama reaches India by sea.", year: 1498 },
      { text: "The Great Wall of China is completed under the Ming Dynasty.", year: 1644 },
      { text: "Captain James Cook reaches Australia.", year: 1770 },
      { text: "The Statue of Liberty is dedicated in New York Harbor.", year: 1886 },
      { text: "The Soviet Union launches Sputnik, the first artificial satellite.", year: 1957 },
    ]
  },
  {
    events: [
      { text: "Martin Luther posts his 95 Theses, sparking the Reformation.", year: 1517 },
      { text: "The English Bill of Rights is enacted.", year: 1689 },
      { text: "The first steam locomotive runs on rails in Wales.", year: 1804 },
      { text: "The Communist Manifesto is published by Marx and Engels.", year: 1848 },
      { text: "Mahatma Gandhi is assassinated in New Delhi.", year: 1948 },
    ]
  },
  {
    events: [
      { text: "The first successful smallpox vaccine is developed by Edward Jenner.", year: 1796 },
      { text: "Michael Faraday demonstrates electromagnetic induction.", year: 1831 },
      { text: "Alfred Nobel invents dynamite.", year: 1867 },
      { text: "The Hubble Space Telescope is launched into orbit.", year: 1990 },
      { text: "The International Space Station receives its first crew.", year: 2000 },
    ]
  },
  {
    events: [
      { text: "Marco Polo begins his journey to China.", year: 1271 },
      { text: "Joan of Arc leads French forces to victory at Orleans.", year: 1429 },
      { text: "The Spanish Armada is defeated by England.", year: 1588 },
      { text: "The French and Indian War ends with the Treaty of Paris.", year: 1763 },
      { text: "Napoleon crowns himself Emperor of France.", year: 1804 },
    ]
  },
  {
    events: [
      { text: "Thomas Edison patents the phonograph.", year: 1878 },
      { text: "The first powered submarine, the Holland VI, is commissioned.", year: 1900 },
      { text: "Roald Amundsen reaches the South Pole.", year: 1911 },
      { text: "Amelia Earhart flies solo across the Atlantic Ocean.", year: 1932 },
      { text: "The Cuban Missile Crisis brings the world to the brink of nuclear war.", year: 1962 },
    ]
  },
  {
    events: [
      { text: "The Gutenberg Bible becomes the first major book printed with movable type.", year: 1455 },
      { text: "Nicolaus Copernicus publishes his heliocentric model of the solar system.", year: 1543 },
      { text: "The Great Plague of London kills tens of thousands.", year: 1665 },
      { text: "Mozart composes his first symphony at the age of eight.", year: 1764 },
      { text: "Louis Pasteur develops the first rabies vaccine.", year: 1885 },
    ]
  },
  {
    events: [
      { text: "The Bolshevik Revolution overthrows the Russian government.", year: 1917 },
      { text: "Penicillin is discovered by Alexander Fleming.", year: 1928 },
      { text: "D-Day: Allied forces land on the beaches of Normandy.", year: 1944 },
      { text: "The Korean War begins.", year: 1950 },
      { text: "Nelson Mandela is released from prison after 27 years.", year: 1990 },
    ]
  },
  {
    events: [
      { text: "The Mona Lisa is stolen from the Louvre in Paris.", year: 1911 },
      { text: "The Nineteenth Amendment grants women the right to vote in the U.S.", year: 1920 },
      { text: "The first issue of Time magazine is published.", year: 1923 },
      { text: "The transistor is invented at Bell Labs.", year: 1947 },
      { text: "The first heart pacemaker is implanted in a patient.", year: 1958 },
    ]
  },
  {
    events: [
      { text: "The Aztec Empire falls to Hernan Cortes.", year: 1521 },
      { text: "The Pilgrims celebrate the first Thanksgiving.", year: 1621 },
      { text: "The Salem witch trials take place in Massachusetts.", year: 1692 },
      { text: "The Lewis and Clark expedition reaches the Pacific Ocean.", year: 1805 },
      { text: "The Gold Rush begins in California.", year: 1848 },
    ]
  },
  {
    events: [
      { text: "Leonardo da Vinci begins painting the Mona Lisa.", year: 1503 },
      { text: "Galileo faces the Roman Inquisition for supporting heliocentrism.", year: 1633 },
      { text: "Isaac Newton discovers the law of gravity.", year: 1687 },
      { text: "The first vaccination is given by Edward Jenner.", year: 1796 },
      { text: "Charles Dickens publishes A Tale of Two Cities.", year: 1859 },
    ]
  },
  {
    events: [
      { text: "The Hindenburg airship disaster occurs in New Jersey.", year: 1937 },
      { text: "Japan attacks Pearl Harbor, drawing the U.S. into World War II.", year: 1941 },
      { text: "The Marshall Plan is enacted to rebuild postwar Europe.", year: 1948 },
      { text: "The first commercial jet airline service begins.", year: 1952 },
      { text: "The Chernobyl nuclear disaster occurs in Ukraine.", year: 1986 },
    ]
  },
  {
    events: [
      { text: "The Panama Canal Zone is established under U.S. control.", year: 1903 },
      { text: "The Great Depression reaches its worst point.", year: 1933 },
      { text: "Jackie Robinson breaks baseball's color barrier.", year: 1947 },
      { text: "The Vietnam War escalates with the Gulf of Tonkin Resolution.", year: 1964 },
      { text: "The Euro currency is introduced in Europe.", year: 1999 },
    ]
  },
  {
    events: [
      { text: "The ancient city of Pompeii is destroyed by Mount Vesuvius.", year: 79 },
      { text: "The Black Death ravages Europe.", year: 1347 },
      { text: "The printing press revolutionizes communication.", year: 1440 },
      { text: "The Industrial Revolution begins in Britain.", year: 1760 },
      { text: "The first email is sent over ARPANET.", year: 1971 },
    ]
  },
  {
    events: [
      { text: "The Sistine Chapel ceiling is completed by Michelangelo.", year: 1512 },
      { text: "The Taj Mahal is completed in India.", year: 1653 },
      { text: "The first daily newspaper is published in London.", year: 1702 },
      { text: "The first photograph of a person is taken in Paris.", year: 1838 },
      { text: "The first modern skyscraper is built in Chicago.", year: 1885 },
    ]
  },
  {
    events: [
      { text: "Ferdinand Magellan's expedition begins circumnavigating the globe.", year: 1519 },
      { text: "The Thirty Years' War devastates Central Europe.", year: 1618 },
      { text: "The American Constitution is ratified.", year: 1788 },
      { text: "The first transatlantic telegraph cable is completed.", year: 1858 },
      { text: "The first commercial radio broadcast airs in Pittsburgh.", year: 1920 },
    ]
  },
  {
    events: [
      { text: "The Emancipation Proclamation frees enslaved people in Confederate states.", year: 1863 },
      { text: "Thomas Edison lights up lower Manhattan with electric power.", year: 1882 },
      { text: "Henry Ford introduces the Model T automobile.", year: 1908 },
      { text: "The United Nations adopts the Universal Declaration of Human Rights.", year: 1948 },
      { text: "The World Wide Web becomes publicly available.", year: 1991 },
    ]
  },
  {
    events: [
      { text: "The construction of the Great Pyramid of Giza is completed.", year: -2560 },
      { text: "The Roman Republic is established.", year: -509 },
      { text: "Julius Caesar is assassinated on the Ides of March.", year: -44 },
      { text: "The fall of the Western Roman Empire.", year: 476 },
      { text: "Charlemagne is crowned Emperor of the Romans.", year: 800 },
    ]
  },
  {
    events: [
      { text: "The first personal computer, the Altair 8800, is released.", year: 1975 },
      { text: "The Space Shuttle Columbia makes its maiden flight.", year: 1981 },
      { text: "The World Wide Web is invented at CERN.", year: 1989 },
      { text: "Google is founded by Larry Page and Sergey Brin.", year: 1998 },
      { text: "The iPhone is released, revolutionizing smartphones.", year: 2007 },
    ]
  },
];

// WAVELENGTH_CATEGORIES - Science-based spectrum guessing game
// 9 categories, 8+ puzzle sets each, 5 rounds per set
// All values are scientifically accurate and well-sourced

const WAVELENGTH_CATEGORIES = [
  // ‚ïê‚ïê‚ïê CATEGORY 0: ELECTROMAGNETIC WAVELENGTH ‚ïê‚ïê‚ïê
  {
    name: "Electromagnetic Wavelength",
    unit: "m",
    scaleLabel: { left: "10‚Åª¬π¬≤ m (Œ≥-ray)", right: "10¬≥ m (radio)" },
    scaleMin: 1e-12,
    scaleMax: 1e3,
    gradient: "linear-gradient(90deg, #4b0082, #0000ff, #00bfff, #00ff00, #ffff00, #ff8c00, #ff0000, #8b0000)",
    puzzles: [
      { rounds: [
        { item: "Red Light", value: 700e-9, hint: "Visible spectrum ‚Äî longest visible wavelength", tolerance: 12 },
        { item: "Microwave Oven", value: 0.122, hint: "Kitchen appliance radiation (2.45 GHz)", tolerance: 12 },
        { item: "Dental X-ray", value: 1e-10, hint: "Medical imaging of teeth", tolerance: 12 },
        { item: "FM Radio (100 MHz)", value: 3, hint: "Broadcast music station", tolerance: 12 },
        { item: "TV Remote (IR)", value: 940e-9, hint: "Near-infrared control signal", tolerance: 12 },
      ]},
      { rounds: [
        { item: "WiFi Signal (2.4 GHz)", value: 0.125, hint: "Wireless internet frequency", tolerance: 12 },
        { item: "Green Light", value: 532e-9, hint: "Middle of the visible spectrum", tolerance: 12 },
        { item: "Gamma Ray (Co-60)", value: 1e-12, hint: "Cobalt-60 nuclear decay radiation", tolerance: 12 },
        { item: "AM Radio (1 MHz)", value: 300, hint: "AM broadcast band", tolerance: 12 },
        { item: "Sunburn UV-B", value: 300e-9, hint: "Ultraviolet rays that burn skin", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Blue Light", value: 470e-9, hint: "Short-wave visible light", tolerance: 12 },
        { item: "Body Heat (IR)", value: 10e-6, hint: "Peak thermal radiation from humans (~37¬∞C)", tolerance: 12 },
        { item: "5G Millimeter Wave", value: 0.01, hint: "High-band cellular frequency (~30 GHz)", tolerance: 12 },
        { item: "Soft X-ray", value: 1e-9, hint: "Used in synchrotron research", tolerance: 12 },
        { item: "Violet Light", value: 400e-9, hint: "Shortest visible wavelength", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Radar (S-band)", value: 0.1, hint: "Weather and air traffic radar (~3 GHz)", tolerance: 12 },
        { item: "Yellow Sodium Lamp", value: 589e-9, hint: "Classic orange-yellow streetlight", tolerance: 12 },
        { item: "Chest X-ray", value: 1e-11, hint: "Medical diagnostic imaging", tolerance: 12 },
        { item: "Bluetooth", value: 0.125, hint: "Short-range wireless (~2.4 GHz)", tolerance: 12 },
        { item: "Far Infrared", value: 50e-6, hint: "Thermal imaging wavelength", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Orange Light", value: 600e-9, hint: "Visible spectrum between yellow and red", tolerance: 12 },
        { item: "Cosmic Microwave Background", value: 0.00106, hint: "Relic radiation from the Big Bang", tolerance: 12 },
        { item: "PET Scan Gamma Ray", value: 2.4e-12, hint: "Positron emission tomography (511 keV)", tolerance: 12 },
        { item: "GPS Signal (L1)", value: 0.19, hint: "Satellite navigation frequency (1575 MHz)", tolerance: 12 },
        { item: "UV-C Germicidal", value: 254e-9, hint: "Used in sterilization lamps", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Hydrogen 21 cm Line", value: 0.21, hint: "Radio astronomy signature of neutral hydrogen", tolerance: 12 },
        { item: "Indigo Light", value: 445e-9, hint: "Between blue and violet", tolerance: 12 },
        { item: "Mammography X-ray", value: 6e-11, hint: "Breast imaging radiation", tolerance: 12 },
        { item: "TV Broadcast (VHF)", value: 1.5, hint: "Television channel 7-13 range", tolerance: 12 },
        { item: "Near Infrared (fiber optic)", value: 1550e-9, hint: "Telecom fiber wavelength", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Laser Pointer (green)", value: 532e-9, hint: "Common green laser", tolerance: 12 },
        { item: "Shortwave Radio", value: 25, hint: "International broadcasting band (~12 MHz)", tolerance: 12 },
        { item: "UV-A (blacklight)", value: 365e-9, hint: "Makes fluorescent things glow", tolerance: 12 },
        { item: "Microwave Relay", value: 0.05, hint: "Point-to-point telecom link (~6 GHz)", tolerance: 12 },
        { item: "Baggage Scanner X-ray", value: 5e-11, hint: "Airport security imaging", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Cyan Light", value: 490e-9, hint: "Between green and blue in the visible spectrum", tolerance: 12 },
        { item: "Car Key Fob", value: 0.87, hint: "Remote keyless entry (~345 MHz)", tolerance: 12 },
        { item: "Extreme UV (EUV)", value: 13.5e-9, hint: "Used in semiconductor lithography", tolerance: 12 },
        { item: "Mid-infrared (CO‚ÇÇ laser)", value: 10.6e-6, hint: "Industrial cutting laser", tolerance: 12 },
        { item: "Nuclear Medicine Gamma", value: 8.3e-12, hint: "Technetium-99m imaging (140 keV)", tolerance: 12 },
      ]},
    ]
  },

  // ‚ïê‚ïê‚ïê CATEGORY 1: ENERGY ‚ïê‚ïê‚ïê
  {
    name: "Energy",
    unit: "J",
    scaleLabel: { left: "10‚Åª¬≤‚Å∞ J (molecular)", right: "10¬≤‚Åµ J (astronomical)" },
    scaleMin: 1e-20,
    scaleMax: 1e25,
    gradient: "linear-gradient(90deg, #1a237e, #1565c0, #00838f, #2e7d32, #f9a825, #e65100, #b71c1c, #880e4f)",
    puzzles: [
      { rounds: [
        { item: "Photon of Green Light", value: 3.7e-19, hint: "A single photon at 532 nm", tolerance: 12 },
        { item: "Food Calorie", value: 4184, hint: "Energy in one dietary Calorie (kcal)", tolerance: 12 },
        { item: "Stick of Dynamite", value: 1.05e6, hint: "About 1 MJ of chemical energy", tolerance: 12 },
        { item: "Lightning Bolt", value: 1e9, hint: "Average energy per lightning stroke", tolerance: 12 },
        { item: "Hiroshima Atomic Bomb", value: 6.3e13, hint: "~15 kilotons of TNT", tolerance: 12 },
      ]},
      { rounds: [
        { item: "ATP Hydrolysis", value: 5.4e-20, hint: "Energy from one ATP ‚Üí ADP reaction", tolerance: 12 },
        { item: "Alkaline AA Battery", value: 9360, hint: "1.5V battery, ~2600 mAh capacity", tolerance: 12 },
        { item: "Gallon of Gasoline", value: 1.3e8, hint: "Chemical energy in automotive fuel", tolerance: 12 },
        { item: "Tsar Bomba (50 MT)", value: 2.1e17, hint: "Largest nuclear weapon ever detonated", tolerance: 12 },
        { item: "Daily Solar Energy on Earth", value: 1.5e22, hint: "Total sunlight hitting Earth per day", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Hydrogen Bond Energy", value: 3.2e-20, hint: "Single bond in water molecule", tolerance: 12 },
        { item: "Sneezing", value: 1, hint: "Kinetic energy of a sneeze (~1 J)", tolerance: 12 },
        { item: "Rifle Bullet (7.62mm)", value: 3500, hint: "Muzzle energy of an AK-47 round", tolerance: 12 },
        { item: "Ton of TNT", value: 4.184e9, hint: "Standard explosive energy unit", tolerance: 12 },
        { item: "Annual World Energy Use", value: 5.8e20, hint: "Total human energy consumption per year", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Visible Light Photon (red)", value: 2.8e-19, hint: "Single photon at 700 nm", tolerance: 12 },
        { item: "Candy Bar", value: 1.1e6, hint: "~250 food Calories of sugar and fat", tolerance: 12 },
        { item: "Car at Highway Speed", value: 6e5, hint: "Kinetic energy of 1500 kg at 100 km/h", tolerance: 12 },
        { item: "Krakatoa Eruption (1883)", value: 8.4e17, hint: "~200 megatons of TNT equivalent", tolerance: 12 },
        { item: "Sun's Energy per Second", value: 3.8e26, hint: "Solar luminosity ‚Äî but that's off our scale! Hint: think smaller", tolerance: 15 },
      ]},
      { rounds: [
        { item: "Thermal Energy of Air Molecule", value: 6.2e-21, hint: "Average KE at room temperature (kT)", tolerance: 12 },
        { item: "Smartphone Battery", value: 4e4, hint: "~11 Wh lithium-ion battery", tolerance: 12 },
        { item: "Tesla Model 3 Battery", value: 2.7e8, hint: "~75 kWh battery pack", tolerance: 12 },
        { item: "Hurricane (daily energy)", value: 5.2e19, hint: "Energy released by a tropical cyclone per day", tolerance: 12 },
        { item: "Earth's Daily Rotation Energy", value: 2.6e29, hint: "Rotational kinetic energy ‚Äî way off scale! Hint: closer to astronomical", tolerance: 15 },
      ]},
      { rounds: [
        { item: "X-ray Photon", value: 1.6e-15, hint: "Medical X-ray photon (~10 keV)", tolerance: 12 },
        { item: "Striking a Match", value: 800, hint: "Chemical energy in a match head", tolerance: 12 },
        { item: "Freight Train at 60 mph", value: 2e9, hint: "KE of 10,000-ton train", tolerance: 12 },
        { item: "Little Boy Bomb (20 kT)", value: 8.4e13, hint: "First atomic bomb used in warfare", tolerance: 12 },
        { item: "Chicxulub Asteroid Impact", value: 4.2e23, hint: "Dinosaur-killer asteroid, 66 million years ago", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Gamma Ray Photon (1 MeV)", value: 1.6e-13, hint: "High-energy nuclear photon", tolerance: 12 },
        { item: "Arrow from Longbow", value: 80, hint: "Medieval English longbow KE", tolerance: 12 },
        { item: "Saturn V First Stage", value: 3.5e12, hint: "Burn energy of rocket's first stage", tolerance: 12 },
        { item: "Largest H-bomb Test (US)", value: 6.3e16, hint: "Castle Bravo, 15 megatons", tolerance: 12 },
        { item: "Earth Orbital KE", value: 2.7e33, hint: "Kinetic energy of Earth orbiting Sun", tolerance: 15 },
      ]},
      { rounds: [
        { item: "Bond Energy (C-H)", value: 6.9e-19, hint: "Breaking one carbon-hydrogen bond", tolerance: 12 },
        { item: "Human Daily Food Intake", value: 8.7e6, hint: "~2000 Calories per day", tolerance: 12 },
        { item: "1 kg of Uranium-235", value: 8.2e13, hint: "Complete fission energy", tolerance: 12 },
        { item: "Magnitude 9 Earthquake", value: 2e18, hint: "Like the 2011 T≈çhoku quake", tolerance: 12 },
        { item: "Moon's Orbital KE", value: 3.8e28, hint: "Kinetic energy of the Moon orbiting Earth", tolerance: 15 },
      ]},
    ]
  },

  // ‚ïê‚ïê‚ïê CATEGORY 2: FORCE ‚ïê‚ïê‚ïê
  {
    name: "Force",
    unit: "N",
    scaleLabel: { left: "10‚Åª¬π¬≤ N (nano)", right: "10¬≤‚Åµ N (cosmic)" },
    scaleMin: 1e-12,
    scaleMax: 1e25,
    gradient: "linear-gradient(90deg, #c8e6c9, #66bb6a, #43a047, #fdd835, #ff9800, #f44336, #b71c1c, #4a0000)",
    puzzles: [
      { rounds: [
        { item: "Weight of a Grain of Sand", value: 6.5e-5, hint: "Tiny but measurable (~6.5 mg)", tolerance: 12 },
        { item: "Weight of an Apple", value: 1, hint: "Sir Isaac Newton's inspiration (~100 g)", tolerance: 12 },
        { item: "Human Bite Force", value: 700, hint: "Maximum molar bite force", tolerance: 12 },
        { item: "Car Engine Thrust", value: 3000, hint: "Typical sedan at full power", tolerance: 12 },
        { item: "Space Shuttle Liftoff", value: 3.1e7, hint: "Total thrust of 3 main engines + 2 SRBs", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Ant Carrying Food", value: 5e-3, hint: "An ant lifts 50√ó its weight", tolerance: 12 },
        { item: "Handshake Grip", value: 50, hint: "Average firm handshake squeeze", tolerance: 12 },
        { item: "Horse Pulling a Cart", value: 600, hint: "Sustained pulling force", tolerance: 12 },
        { item: "F-16 Jet Engine Thrust", value: 1.3e5, hint: "GE F110 afterburning turbofan", tolerance: 12 },
        { item: "Earth's Pull on the Moon", value: 2e20, hint: "Gravitational force keeping Moon in orbit", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Single Myosin Molecule", value: 4e-12, hint: "Molecular motor in muscles", tolerance: 12 },
        { item: "Weight of a Penny", value: 0.025, hint: "US penny weighs 2.5 grams", tolerance: 12 },
        { item: "Bench Press (elite)", value: 2500, hint: "~250 kg world-class bench press", tolerance: 12 },
        { item: "Locomotive Engine", value: 3e5, hint: "Freight locomotive pulling force", tolerance: 12 },
        { item: "Saturn V Rocket Thrust", value: 3.5e7, hint: "Most powerful rocket that flew (1st stage)", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Weight of a Mosquito", value: 2.5e-5, hint: "About 2.5 milligrams", tolerance: 12 },
        { item: "Peak Human Punch", value: 5000, hint: "Professional boxer's punch force", tolerance: 12 },
        { item: "Tug of War Team (8 people)", value: 8000, hint: "Combined pulling force", tolerance: 12 },
        { item: "Large Ship Propulsion", value: 5e6, hint: "Container ship engine thrust", tolerance: 12 },
        { item: "Sun's Pull on Earth", value: 3.5e22, hint: "Gravitational force keeping Earth in orbit", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Spider Silk Thread", value: 0.01, hint: "Breaking force of one strand", tolerance: 12 },
        { item: "Tennis Serve Impact", value: 4000, hint: "Peak racket-ball contact force", tolerance: 12 },
        { item: "Large Crane Lifting", value: 2e5, hint: "Liebherr mobile crane capacity", tolerance: 12 },
        { item: "Falcon Heavy Thrust", value: 2.3e7, hint: "SpaceX rocket at liftoff", tolerance: 12 },
        { item: "Gravitational Pull: Earth-Sun", value: 3.5e22, hint: "Keeps Earth in its orbit", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Optical Tweezers Force", value: 1e-11, hint: "Laser trapping of single cells", tolerance: 12 },
        { item: "Rubber Band Stretched", value: 3, hint: "Typical office rubber band", tolerance: 12 },
        { item: "Crocodile Bite Force", value: 16000, hint: "Saltwater croc ‚Äî strongest bite on Earth", tolerance: 12 },
        { item: "Dam Holding Water", value: 2e9, hint: "Hoover Dam hydrostatic force", tolerance: 12 },
        { item: "Tidal Force on Earth", value: 7e18, hint: "Moon's differential gravitational pull", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Weight of a Feather", value: 8e-4, hint: "About 0.08 grams", tolerance: 12 },
        { item: "Opening a Soda Can", value: 20, hint: "Pull-tab opening force", tolerance: 12 },
        { item: "Human Leg Press (max)", value: 8000, hint: "Strongest leg press recorded", tolerance: 12 },
        { item: "Boeing 747 Total Thrust", value: 9.7e5, hint: "Four engines at max takeoff power", tolerance: 12 },
        { item: "Sun's Pull on Jupiter", value: 4.2e23, hint: "Gravity holding the largest planet", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Atomic Force Microscope Tip", value: 1e-9, hint: "Probe touching an atom (~1 nN)", tolerance: 12 },
        { item: "Breaking a Pencil", value: 50, hint: "Snapping a standard #2 pencil", tolerance: 12 },
        { item: "T-Rex Bite Force", value: 60000, hint: "Estimated strongest dinosaur bite", tolerance: 12 },
        { item: "Ariane 5 Rocket Thrust", value: 1.3e7, hint: "European heavy-lift launcher", tolerance: 12 },
        { item: "Total Weight on Earth's Surface", value: 5e25, hint: "Weight of entire atmosphere", tolerance: 15 },
      ]},
    ]
  },

  // ‚ïê‚ïê‚ïê CATEGORY 3: SPEED ‚ïê‚ïê‚ïê
  {
    name: "Speed",
    unit: "m/s",
    scaleLabel: { left: "10‚Åª‚Åµ m/s (creeping)", right: "10‚Åπ m/s (light)" },
    scaleMin: 1e-5,
    scaleMax: 1e9,
    gradient: "linear-gradient(90deg, #e8eaf6, #9fa8da, #5c6bc0, #3949ab, #1a237e, #0d47a1, #01579b, #00e5ff)",
    puzzles: [
      { rounds: [
        { item: "Garden Snail", value: 0.001, hint: "Famously slow creature", tolerance: 12 },
        { item: "Human Walking", value: 1.4, hint: "Average pedestrian speed", tolerance: 12 },
        { item: "Cheetah (top speed)", value: 30, hint: "Fastest land animal", tolerance: 12 },
        { item: "Speed of Sound in Air", value: 343, hint: "Mach 1 at sea level, 20¬∞C", tolerance: 12 },
        { item: "Speed of Light", value: 3e8, hint: "Nature's speed limit (in vacuum)", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Plate Tectonics", value: 1.6e-9, hint: "Continents drift ~5 cm/year", tolerance: 12 },
        { item: "Human Swimming", value: 2, hint: "Competitive freestyle pace", tolerance: 12 },
        { item: "Peregrine Falcon Dive", value: 108, hint: "Fastest animal on Earth (in a stoop)", tolerance: 12 },
        { item: "Rifle Bullet", value: 900, hint: "Typical high-velocity round", tolerance: 12 },
        { item: "Earth's Orbital Speed", value: 29800, hint: "Orbiting the Sun at ~30 km/s", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Glacier Flow", value: 1e-6, hint: "Moving ice, meters per year", tolerance: 12 },
        { item: "Usain Bolt (100m record)", value: 12.4, hint: "Fastest human ever, peak speed", tolerance: 12 },
        { item: "Highway Speed Limit", value: 31, hint: "~70 mph / 112 km/h", tolerance: 12 },
        { item: "Commercial Jet (Boeing 747)", value: 260, hint: "Cruising at ~580 mph", tolerance: 12 },
        { item: "Parker Solar Probe", value: 1.9e5, hint: "Fastest human-made object (~690,000 km/h)", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Hair Growth", value: 5e-9, hint: "~15 cm per year, converted to m/s", tolerance: 12 },
        { item: "Olympic Sprinter", value: 10.4, hint: "World-class 100m runner", tolerance: 12 },
        { item: "Sailfish Swimming", value: 30, hint: "Fastest fish in the ocean", tolerance: 12 },
        { item: "SR-71 Blackbird", value: 980, hint: "Fastest jet aircraft ever (Mach 3.3)", tolerance: 12 },
        { item: "Voyager 1", value: 17000, hint: "Farthest human-made object, leaving solar system", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Bamboo Growth", value: 1e-5, hint: "Fastest growing plant (~91 cm/day)", tolerance: 12 },
        { item: "Greyhound Running", value: 19, hint: "Racing dog at full speed", tolerance: 12 },
        { item: "Formula 1 Car (top speed)", value: 97, hint: "~350 km/h on track", tolerance: 12 },
        { item: "Space Shuttle Re-entry", value: 7800, hint: "Orbital velocity at re-entry", tolerance: 12 },
        { item: "Solar Wind", value: 4e5, hint: "Charged particles from the Sun", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Ketchup Leaving Bottle", value: 0.03, hint: "Famously slow non-Newtonian fluid", tolerance: 12 },
        { item: "Average Cyclist", value: 7, hint: "Casual road cycling speed", tolerance: 12 },
        { item: "Tornado (EF5)", value: 125, hint: "Most violent tornado winds", tolerance: 12 },
        { item: "ISS Orbital Speed", value: 7660, hint: "International Space Station", tolerance: 12 },
        { item: "Electrons in Copper Wire", value: 1e-4, hint: "Drift velocity in household current", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Sea Turtle Swimming", value: 0.9, hint: "Cruising speed of a green sea turtle", tolerance: 12 },
        { item: "Pitched Baseball", value: 45, hint: "Major league fastball (~100 mph)", tolerance: 12 },
        { item: "Speed of Sound in Water", value: 1500, hint: "Sound travels faster in liquids", tolerance: 12 },
        { item: "Meteor Entering Atmosphere", value: 30000, hint: "Typical meteoroid speed", tolerance: 12 },
        { item: "Speed of Light in Glass", value: 2e8, hint: "Light slows in dense media (n‚âà1.5)", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Jellyfish Drifting", value: 0.02, hint: "Bell pulsation speed", tolerance: 12 },
        { item: "Horse at Gallop", value: 18, hint: "Thoroughbred racehorse", tolerance: 12 },
        { item: "Concorde (cruising)", value: 600, hint: "Supersonic airliner, Mach 2.04", tolerance: 12 },
        { item: "Escape Velocity (Earth)", value: 11200, hint: "Minimum speed to leave Earth's gravity", tolerance: 12 },
        { item: "Milky Way through Space", value: 6e5, hint: "Our galaxy's motion relative to CMB", tolerance: 12 },
      ]},
    ]
  },

  // ‚ïê‚ïê‚ïê CATEGORY 4: TEMPERATURE ‚ïê‚ïê‚ïê
  {
    name: "Temperature",
    unit: "K",
    scaleLabel: { left: "1 K (near absolute zero)", right: "10‚Å∏ K (stellar core)" },
    scaleMin: 1,
    scaleMax: 1e8,
    gradient: "linear-gradient(90deg, #0d47a1, #1565c0, #42a5f5, #e3f2fd, #ffffff, #fff9c4, #ffab00, #ff3d00, #d50000)",
    puzzles: [
      { rounds: [
        { item: "Liquid Helium", value: 4.2, hint: "Boiling point of helium-4", tolerance: 12 },
        { item: "Liquid Nitrogen", value: 77, hint: "Cheap cryogenic coolant (boiling point)", tolerance: 12 },
        { item: "Human Body", value: 310, hint: "Normal body temperature (~37¬∞C)", tolerance: 12 },
        { item: "Lava (basaltic)", value: 1500, hint: "Molten rock from volcanic eruption", tolerance: 12 },
        { item: "Sun's Surface", value: 5778, hint: "Photosphere temperature", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Cosmic Microwave Background", value: 2.725, hint: "Temperature of the universe today", tolerance: 12 },
        { item: "Dry Ice (CO‚ÇÇ)", value: 195, hint: "Sublimation point of solid CO‚ÇÇ", tolerance: 12 },
        { item: "Water Boiling Point", value: 373, hint: "100¬∞C at standard pressure", tolerance: 12 },
        { item: "Tungsten Filament (lit)", value: 3000, hint: "Incandescent light bulb filament", tolerance: 12 },
        { item: "Sun's Core", value: 1.5e7, hint: "Where nuclear fusion occurs", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Liquid Oxygen", value: 90, hint: "Boiling point of O‚ÇÇ ‚Äî rocket propellant", tolerance: 12 },
        { item: "Water Freezing Point", value: 273.15, hint: "0¬∞C, where ice forms", tolerance: 12 },
        { item: "Lead Melting Point", value: 601, hint: "Soft metal used in ancient plumbing", tolerance: 12 },
        { item: "Iron Melting Point", value: 1811, hint: "Core ingredient of steel", tolerance: 12 },
        { item: "Lightning Bolt Channel", value: 30000, hint: "5√ó hotter than the Sun's surface!", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Bose-Einstein Condensate", value: 1e-7, hint: "Coldest temperature achieved in labs (~100 nK)", tolerance: 15 },
        { item: "Antarctica Record Cold", value: 184, hint: "Vostok Station, 1983 (‚àí89.2¬∞C)", tolerance: 12 },
        { item: "Room Temperature", value: 293, hint: "Comfortable indoor temperature (~20¬∞C)", tolerance: 12 },
        { item: "Candle Flame", value: 1400, hint: "Tip of a burning candle", tolerance: 12 },
        { item: "Welding Arc", value: 6000, hint: "Arc temperature in electric welding", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Superconductor (YBCO)", value: 93, hint: "Critical temperature of high-Tc superconductor", tolerance: 12 },
        { item: "Hottest Day on Earth", value: 330, hint: "Death Valley record: 56.7¬∞C (134¬∞F)", tolerance: 12 },
        { item: "Oven Baking Bread", value: 493, hint: "~220¬∞C baking temperature", tolerance: 12 },
        { item: "Surface of Venus", value: 737, hint: "Hottest planet, greenhouse hell", tolerance: 12 },
        { item: "Core of a Giant Star", value: 1e8, hint: "Helium fusion in massive stars", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Pluto Surface", value: 44, hint: "Average surface temperature", tolerance: 12 },
        { item: "Mercury at Night", value: 100, hint: "Night side of closest planet to Sun", tolerance: 12 },
        { item: "Sahara Desert (peak)", value: 331, hint: "~58¬∞C surface temperatures", tolerance: 12 },
        { item: "Wood Fire", value: 1300, hint: "Campfire temperature", tolerance: 12 },
        { item: "Fission Reactor Core", value: 1600, hint: "Nuclear fuel pellet center", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Mars Surface (average)", value: 210, hint: "Cold desert planet (‚àí63¬∞C)", tolerance: 12 },
        { item: "Cooking Oil Smoke Point", value: 530, hint: "When frying oil starts to smoke", tolerance: 12 },
        { item: "Gold Melting Point", value: 1337, hint: "Precious metal becomes liquid", tolerance: 12 },
        { item: "Thermite Reaction", value: 2500, hint: "Iron oxide + aluminum, extremely hot", tolerance: 12 },
        { item: "Tokamak Fusion Plasma", value: 1.5e8, hint: "ITER experimental reactor target", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Titan (Saturn moon)", value: 94, hint: "Has methane lakes on its surface", tolerance: 12 },
        { item: "Earth's Core", value: 6000, hint: "Hot as the Sun's surface!", tolerance: 12 },
        { item: "Acetylene Torch", value: 3500, hint: "Oxy-acetylene cutting flame", tolerance: 12 },
        { item: "Carbon Sublimation", value: 3915, hint: "Carbon goes directly to gas", tolerance: 12 },
        { item: "Supernova Core Collapse", value: 1e11, hint: "Temperature during stellar death", tolerance: 15 },
      ]},
    ]
  },

  // ‚ïê‚ïê‚ïê CATEGORY 5: FREQUENCY ‚ïê‚ïê‚ïê
  {
    name: "Frequency",
    unit: "Hz",
    scaleLabel: { left: "1 Hz (infrasound)", right: "10¬≤‚Å∞ Hz (gamma)" },
    scaleMin: 1,
    scaleMax: 1e20,
    gradient: "linear-gradient(90deg, #311b92, #4527a0, #512da8, #7b1fa2, #6a1b9a, #00838f, #00acc1, #00e5ff)",
    puzzles: [
      { rounds: [
        { item: "Human Heartbeat", value: 1.2, hint: "~72 beats per minute at rest", tolerance: 12 },
        { item: "Lowest Piano Note (A‚ÇÄ)", value: 27.5, hint: "Deepest key on a standard piano", tolerance: 12 },
        { item: "Middle C (C‚ÇÑ)", value: 261.6, hint: "Central reference note in music", tolerance: 12 },
        { item: "AM Radio (1 MHz)", value: 1e6, hint: "Amplitude modulation broadcast band", tolerance: 12 },
        { item: "WiFi (2.4 GHz)", value: 2.4e9, hint: "Standard wireless internet frequency", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Earth's Rotation", value: 1.16e-5, hint: "One revolution per day = very low frequency", tolerance: 12 },
        { item: "Bass Guitar Low E", value: 41.2, hint: "Lowest string on a standard bass", tolerance: 12 },
        { item: "Concert A (A‚ÇÑ)", value: 440, hint: "Standard tuning reference", tolerance: 12 },
        { item: "FM Radio (100 MHz)", value: 1e8, hint: "Frequency modulation broadcast", tolerance: 12 },
        { item: "Visible Light (green)", value: 5.66e14, hint: "Electromagnetic frequency of green light", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Schumann Resonance", value: 7.83, hint: "Earth-ionosphere cavity resonance", tolerance: 12 },
        { item: "Dog Whistle", value: 25000, hint: "Ultrasonic ‚Äî beyond human hearing", tolerance: 12 },
        { item: "Bat Echolocation", value: 1e5, hint: "Ultrasound pulses for navigation", tolerance: 12 },
        { item: "Microwave Oven", value: 2.45e9, hint: "Excites water molecules at this frequency", tolerance: 12 },
        { item: "X-ray Frequency", value: 3e17, hint: "Medical imaging radiation", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Ocean Wave", value: 0.1, hint: "One wave every ~10 seconds", tolerance: 12 },
        { item: "Tuning Fork (A‚ÇÑ)", value: 440, hint: "Standard pitch reference fork", tolerance: 12 },
        { item: "Soprano High C (C‚ÇÜ)", value: 1047, hint: "Impressive operatic note", tolerance: 12 },
        { item: "Cell Phone (LTE)", value: 2.1e9, hint: "4G LTE frequency band", tolerance: 12 },
        { item: "Gamma Ray", value: 3e19, hint: "Highest-energy EM radiation", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Tidal Period", value: 2.24e-5, hint: "~12.4 hour tidal cycle", tolerance: 12 },
        { item: "Hummingbird Wingbeat", value: 55, hint: "Wings beat 50-80 times per second", tolerance: 12 },
        { item: "Medical Ultrasound", value: 3.5e6, hint: "Fetal imaging frequency", tolerance: 12 },
        { item: "GPS Signal (L1)", value: 1.575e9, hint: "Navigation satellite frequency", tolerance: 12 },
        { item: "Ultraviolet Light", value: 8e14, hint: "Just beyond visible violet", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Pendulum Clock (1 Hz)", value: 1, hint: "Tick-tock, once per second", tolerance: 12 },
        { item: "Violin A String", value: 440, hint: "Open A string tuned to concert pitch", tolerance: 12 },
        { item: "Human Voice (female)", value: 220, hint: "Average speaking fundamental frequency", tolerance: 12 },
        { item: "Bluetooth", value: 2.45e9, hint: "Same band as WiFi and microwave ovens", tolerance: 12 },
        { item: "Infrared (thermal)", value: 3e13, hint: "Heat radiation from warm objects", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Earthquake P-wave", value: 3, hint: "Primary seismic wave (~3 Hz)", tolerance: 12 },
        { item: "Piccolo Highest Note", value: 4186, hint: "C‚Çà ‚Äî highest note in the orchestra", tolerance: 12 },
        { item: "Radar (X-band)", value: 1e10, hint: "Military/weather radar frequency", tolerance: 12 },
        { item: "5G Millimeter Wave", value: 3e10, hint: "High-speed cellular (30 GHz)", tolerance: 12 },
        { item: "Red Light Frequency", value: 4.3e14, hint: "Lowest visible light frequency", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Washing Machine Spin", value: 16, hint: "~1000 RPM drum speed", tolerance: 12 },
        { item: "Human Hearing Limit", value: 20000, hint: "Upper threshold of human audio perception", tolerance: 12 },
        { item: "Shortwave Radio", value: 1.2e7, hint: "International broadcast band (~12 MHz)", tolerance: 12 },
        { item: "Television UHF", value: 6e8, hint: "UHF TV channels (~600 MHz)", tolerance: 12 },
        { item: "Soft X-ray", value: 3e16, hint: "Low-energy X-ray photon", tolerance: 12 },
      ]},
    ]
  },

  // ‚ïê‚ïê‚ïê CATEGORY 6: MASS ‚ïê‚ïê‚ïê
  {
    name: "Mass",
    unit: "kg",
    scaleLabel: { left: "10‚Åª¬≥‚Å∞ kg (subatomic)", right: "10¬≥‚Å∞ kg (star)" },
    scaleMin: 1e-30,
    scaleMax: 1e30,
    gradient: "linear-gradient(90deg, #fafafa, #e0e0e0, #bdbdbd, #9e9e9e, #757575, #616161, #424242, #212121)",
    puzzles: [
      { rounds: [
        { item: "Electron", value: 9.11e-31, hint: "Lightest stable subatomic particle", tolerance: 12 },
        { item: "Grain of Sand", value: 5e-5, hint: "Tiny but visible particle", tolerance: 12 },
        { item: "Human", value: 70, hint: "Average adult body mass", tolerance: 12 },
        { item: "African Elephant", value: 6000, hint: "Largest living land animal", tolerance: 12 },
        { item: "Earth", value: 5.97e24, hint: "Our home planet", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Proton", value: 1.67e-27, hint: "Found in every atomic nucleus", tolerance: 12 },
        { item: "Raindrop", value: 5e-5, hint: "Medium-sized falling raindrop (~50 mg)", tolerance: 12 },
        { item: "Bowling Ball", value: 6.4, hint: "Standard 14-pound ball", tolerance: 12 },
        { item: "Blue Whale", value: 1.5e5, hint: "Largest animal ever to exist (~150 tonnes)", tolerance: 12 },
        { item: "The Sun", value: 2e30, hint: "Our star ‚Äî 330,000√ó Earth's mass", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Water Molecule", value: 3e-26, hint: "H‚ÇÇO ‚Äî 18 atomic mass units", tolerance: 12 },
        { item: "Housefly", value: 1.2e-5, hint: "Common flying insect (~12 mg)", tolerance: 12 },
        { item: "Golden Retriever", value: 32, hint: "Popular medium-large dog breed", tolerance: 12 },
        { item: "Boeing 747 (loaded)", value: 4.1e5, hint: "Jumbo jet at max takeoff weight", tolerance: 12 },
        { item: "Moon", value: 7.35e22, hint: "Earth's natural satellite", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Uranium Atom", value: 3.95e-25, hint: "Heaviest natural element (U-238)", tolerance: 12 },
        { item: "Teaspoon of Sugar", value: 4e-3, hint: "~4 grams of sucrose", tolerance: 12 },
        { item: "Grand Piano", value: 480, hint: "Steinway concert grand", tolerance: 12 },
        { item: "Great Pyramid of Giza", value: 6e9, hint: "~6 million tonnes of limestone", tolerance: 12 },
        { item: "Jupiter", value: 1.9e27, hint: "Largest planet in our solar system", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Hemoglobin Molecule", value: 1.1e-22, hint: "Oxygen-carrying protein in blood", tolerance: 12 },
        { item: "US Penny", value: 2.5e-3, hint: "Zinc and copper coin (2.5 g)", tolerance: 12 },
        { item: "Hippopotamus", value: 1500, hint: "Third-largest land animal", tolerance: 12 },
        { item: "Titanic", value: 5.2e7, hint: "Famous ocean liner (52,000 tonnes)", tolerance: 12 },
        { item: "Mars", value: 6.4e23, hint: "The Red Planet ‚Äî about 1/10 Earth's mass", tolerance: 12 },
      ]},
      { rounds: [
        { item: "DNA Molecule (human)", value: 3.5e-15, hint: "One copy of the human genome", tolerance: 12 },
        { item: "Chicken Egg", value: 0.06, hint: "Standard large egg (~60 g)", tolerance: 12 },
        { item: "Compact Car", value: 1200, hint: "Typical sedan", tolerance: 12 },
        { item: "Aircraft Carrier", value: 1e8, hint: "Nimitz-class (100,000 tonnes)", tolerance: 12 },
        { item: "Saturn", value: 5.7e26, hint: "Ringed gas giant, could float in water", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Bacterium (E. coli)", value: 1e-15, hint: "Single-celled organism", tolerance: 12 },
        { item: "Hummingbird", value: 4e-3, hint: "World's smallest bird (~4 g)", tolerance: 12 },
        { item: "Polar Bear", value: 450, hint: "Largest land carnivore", tolerance: 12 },
        { item: "International Space Station", value: 4.2e5, hint: "Orbiting laboratory (~420 tonnes)", tolerance: 12 },
        { item: "Pluto", value: 1.3e22, hint: "Dwarf planet, smaller than our Moon", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Red Blood Cell", value: 1e-13, hint: "Human erythrocyte (~100 femtograms)", tolerance: 12 },
        { item: "Baseball", value: 0.145, hint: "Official MLB baseball (145 g)", tolerance: 12 },
        { item: "T. Rex", value: 8000, hint: "Estimated mass of the dinosaur king", tolerance: 12 },
        { item: "Eiffel Tower", value: 7.3e6, hint: "Iron lattice structure (7,300 tonnes)", tolerance: 12 },
        { item: "Ceres (dwarf planet)", value: 9.4e20, hint: "Largest object in the asteroid belt", tolerance: 12 },
      ]},
    ]
  },

  // ‚ïê‚ïê‚ïê CATEGORY 7: PRESSURE ‚ïê‚ïê‚ïê
  {
    name: "Pressure",
    unit: "Pa",
    scaleLabel: { left: "10‚Åª‚Å∏ Pa (space)", right: "10¬π¬≤ Pa (extreme)" },
    scaleMin: 1e-8,
    scaleMax: 1e12,
    gradient: "linear-gradient(90deg, #e8eaf6, #c5cae9, #9fa8da, #7986cb, #5c6bc0, #3f51b5, #283593, #1a237e, #0d0d3b)",
    puzzles: [
      { rounds: [
        { item: "Interstellar Space", value: 1e-8, hint: "Near-perfect vacuum between stars", tolerance: 14 },
        { item: "Atmospheric Pressure", value: 101325, hint: "Standard sea-level air pressure (1 atm)", tolerance: 12 },
        { item: "Car Tire", value: 2.2e5, hint: "Typical inflation pressure (~32 psi)", tolerance: 12 },
        { item: "Deep Ocean (Mariana Trench)", value: 1.1e8, hint: "Deepest point on Earth (~11 km down)", tolerance: 12 },
        { item: "Diamond Anvil Cell", value: 5e11, hint: "Laboratory extreme pressure device", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Low Earth Orbit Vacuum", value: 1e-4, hint: "ISS altitude (~400 km)", tolerance: 14 },
        { item: "Whisper (sound pressure)", value: 2e-3, hint: "Sound pressure of a whisper at 1 m", tolerance: 12 },
        { item: "Blood Pressure (systolic)", value: 1.6e4, hint: "Normal 120 mmHg", tolerance: 12 },
        { item: "Scuba Tank", value: 2e7, hint: "Compressed air at ~200 atm", tolerance: 12 },
        { item: "Earth's Core", value: 3.6e11, hint: "Pressure at planet's center", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Surface of Moon (day)", value: 1e-7, hint: "Essentially vacuum, trace gas only", tolerance: 14 },
        { item: "Airplane Cabin (cruising)", value: 7.5e4, hint: "Pressurized to ~8000 ft equivalent", tolerance: 12 },
        { item: "Fire Hose", value: 1e6, hint: "High-pressure water jet (~150 psi)", tolerance: 12 },
        { item: "Hydraulic Press", value: 3e7, hint: "Industrial metal forming (~4000 psi)", tolerance: 12 },
        { item: "Jupiter's Core", value: 7e12, hint: "Enormous gas giant interior pressure", tolerance: 14 },
      ]},
      { rounds: [
        { item: "Ultra-High Vacuum (lab)", value: 1e-7, hint: "Particle accelerator vacuum level", tolerance: 14 },
        { item: "Bicycle Tire", value: 6.9e5, hint: "Road bike at ~100 psi", tolerance: 12 },
        { item: "Pressure Cooker", value: 2e5, hint: "About 2 atmospheres", tolerance: 12 },
        { item: "Water Jet Cutter", value: 6e8, hint: "Cuts through steel with water", tolerance: 12 },
        { item: "Center of Neutron Star", value: 1e34, hint: "Unimaginably dense ‚Äî off our scale! Closest to maximum.", tolerance: 15 },
      ]},
      { rounds: [
        { item: "Mars Atmosphere", value: 610, hint: "Very thin CO‚ÇÇ atmosphere (~0.6% of Earth)", tolerance: 12 },
        { item: "Human Footstep", value: 5e4, hint: "Weight distributed over shoe sole", tolerance: 12 },
        { item: "Submarine Hull (max depth)", value: 6e6, hint: "Military sub at ~600 m depth", tolerance: 12 },
        { item: "Diesel Engine Cylinder", value: 1e7, hint: "Peak combustion chamber pressure", tolerance: 12 },
        { item: "Synthetic Diamond Press", value: 1e10, hint: "HPHT diamond manufacturing", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Top of Mount Everest", value: 3.4e4, hint: "~1/3 of sea-level pressure at 8848 m", tolerance: 12 },
        { item: "Espresso Machine", value: 9e5, hint: "9 bar for proper extraction", tolerance: 12 },
        { item: "Steam Turbine", value: 2.5e7, hint: "Power plant steam pressure", tolerance: 12 },
        { item: "Bottom of Lake Baikal", value: 1.6e7, hint: "World's deepest lake, 1642 m", tolerance: 12 },
        { item: "Stiletto Heel", value: 1e7, hint: "Small area = big pressure from body weight", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Venus Atmosphere (surface)", value: 9.2e6, hint: "Crushing CO‚ÇÇ atmosphere ‚Äî 92√ó Earth", tolerance: 12 },
        { item: "Tennis Ball Impact", value: 1e5, hint: "Brief contact pressure during hit", tolerance: 12 },
        { item: "Champagne Bottle", value: 6e5, hint: "Why the cork flies ‚Äî ~6 atm", tolerance: 12 },
        { item: "Oil Well (deep)", value: 7e7, hint: "Formation pressure at depth", tolerance: 12 },
        { item: "Core of White Dwarf Star", value: 1e22, hint: "Degenerate electron pressure", tolerance: 15 },
      ]},
      { rounds: [
        { item: "Sound of Normal Speech", value: 0.02, hint: "Sound pressure at conversation level (60 dB)", tolerance: 12 },
        { item: "Vacuum Cleaner Suction", value: 2e4, hint: "Pressure difference that picks up dirt", tolerance: 12 },
        { item: "Paintball Gun", value: 2e7, hint: "CO‚ÇÇ propellant pressure (~200 bar)", tolerance: 12 },
        { item: "Deepest Oil Well", value: 1.4e8, hint: "Kola or deepwater well pressures", tolerance: 12 },
        { item: "Shockwave (1 m from TNT)", value: 5e9, hint: "Blast overpressure from explosion", tolerance: 12 },
      ]},
    ]
  },

  // ‚ïê‚ïê‚ïê CATEGORY 8: DISTANCE ‚ïê‚ïê‚ïê
  {
    name: "Distance",
    unit: "m",
    scaleLabel: { left: "10‚Åª¬π‚Åµ m (nucleus)", right: "10¬≤‚Å∑ m (universe)" },
    scaleMin: 1e-15,
    scaleMax: 1e27,
    gradient: "linear-gradient(90deg, #fff3e0, #ffcc80, #ffa726, #fb8c00, #6d4c41, #37474f, #263238, #0d1b2a, #020111)",
    puzzles: [
      { rounds: [
        { item: "Proton Diameter", value: 1.7e-15, hint: "Size of a single proton", tolerance: 12 },
        { item: "Hydrogen Atom", value: 1.2e-10, hint: "Simplest and smallest atom", tolerance: 12 },
        { item: "Human Hair Width", value: 7e-5, hint: "About 70 micrometers", tolerance: 12 },
        { item: "Height of Eiffel Tower", value: 330, hint: "Paris landmark (with antenna)", tolerance: 12 },
        { item: "Earth to Moon", value: 3.84e8, hint: "Average lunar distance", tolerance: 12 },
      ]},
      { rounds: [
        { item: "DNA Double Helix Width", value: 2.4e-9, hint: "Width of the genetic blueprint (~2.4 nm)", tolerance: 12 },
        { item: "Red Blood Cell", value: 7e-6, hint: "Diameter of a human erythrocyte (~7 Œºm)", tolerance: 12 },
        { item: "Football Field", value: 91.4, hint: "100 yards = 91.4 meters", tolerance: 12 },
        { item: "Earth's Circumference", value: 4e7, hint: "Distance around the equator (~40,000 km)", tolerance: 12 },
        { item: "1 Light-Year", value: 9.46e15, hint: "Distance light travels in one year", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Visible Light Wavelength", value: 550e-9, hint: "Green light ~550 nm", tolerance: 12 },
        { item: "Grain of Sand", value: 5e-4, hint: "About half a millimeter", tolerance: 12 },
        { item: "Marathon Distance", value: 42195, hint: "26.2 miles", tolerance: 12 },
        { item: "Earth to Sun", value: 1.5e11, hint: "1 Astronomical Unit (AU)", tolerance: 12 },
        { item: "Milky Way Diameter", value: 9.5e20, hint: "~100,000 light-years across", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Carbon Nanotube Width", value: 1e-9, hint: "Single-walled nanotube diameter", tolerance: 12 },
        { item: "Bacterium (E. coli)", value: 2e-6, hint: "Common intestinal bacterium length", tolerance: 12 },
        { item: "Height of Mount Everest", value: 8849, hint: "Tallest mountain above sea level", tolerance: 12 },
        { item: "Diameter of the Sun", value: 1.4e9, hint: "Our star's width (~1.4 million km)", tolerance: 12 },
        { item: "Distance to Nearest Star", value: 4e16, hint: "Proxima Centauri, ~4.24 light-years", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Transistor Gate (modern)", value: 3e-9, hint: "3 nm process node in cutting-edge chips", tolerance: 12 },
        { item: "Thickness of Paper", value: 1e-4, hint: "Standard printer paper (~100 Œºm)", tolerance: 12 },
        { item: "Depth of Mariana Trench", value: 11034, hint: "Deepest point in the ocean", tolerance: 12 },
        { item: "Earth to Mars (closest)", value: 5.5e10, hint: "Minimum distance during opposition", tolerance: 12 },
        { item: "Observable Universe Radius", value: 4.4e26, hint: "~46.5 billion light-years", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Virus (SARS-CoV-2)", value: 1e-7, hint: "COVID-19 virus particle (~100 nm)", tolerance: 12 },
        { item: "Ant Length", value: 2e-3, hint: "Common garden ant (~2 mm)", tolerance: 12 },
        { item: "Distance: NYC to London", value: 5.6e6, hint: "Transatlantic distance by air", tolerance: 12 },
        { item: "Pluto's Orbit Radius", value: 5.9e12, hint: "Average distance from Sun (~39 AU)", tolerance: 12 },
        { item: "Andromeda Galaxy Distance", value: 2.4e22, hint: "Nearest large galaxy (~2.5 million ly)", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Glucose Molecule", value: 9e-10, hint: "Simple sugar molecule diameter", tolerance: 12 },
        { item: "Pinhead Diameter", value: 1e-3, hint: "About 1 millimeter across", tolerance: 12 },
        { item: "Diameter of Earth", value: 1.27e7, hint: "~12,742 km pole to pole", tolerance: 12 },
        { item: "Voyager 1 Distance (2024)", value: 2.4e13, hint: "Farthest human-made object", tolerance: 12 },
        { item: "Diameter of Milky Way", value: 9.5e20, hint: "Our galaxy, ~100,000 light-years", tolerance: 12 },
      ]},
      { rounds: [
        { item: "Water Molecule Diameter", value: 2.75e-10, hint: "H‚ÇÇO is about 0.275 nm across", tolerance: 12 },
        { item: "Human Egg Cell", value: 1.2e-4, hint: "Largest human cell (~120 Œºm)", tolerance: 12 },
        { item: "Great Wall of China", value: 2.2e7, hint: "Total length of all sections (~21,196 km)", tolerance: 12 },
        { item: "Jupiter's Diameter", value: 1.4e8, hint: "Largest planet (~142,984 km)", tolerance: 12 },
        { item: "Distance to Galactic Center", value: 2.5e20, hint: "~26,000 light-years away", tolerance: 12 },
      ]},
    ]
  },
];

const MIMIC_POOL = [
  {
    rounds: [
      { word: "CRANE", clues: ["Easy: A large bird with a long neck.", "Medium: Also a machine used on construction sites.", "Hard: This word can describe rotating your neck to see better."] },
      { word: "BLAZE", clues: ["Easy: A very bright, intense fire.", "Medium: Also means to mark a trail through wilderness.", "Hard: This word appears in the names of several sports teams."] },
      { word: "PRISM", clues: ["Easy: A transparent shape that bends light into a rainbow.", "Medium: Also a metaphor for different perspectives on one thing.", "Hard: Pink Floyd used one on a famous album cover."] },
      { word: "GROVE", clues: ["Easy: A small group of trees.", "Medium: A common place name in many American cities.", "Hard: Often paired with citrus or olive in farming contexts."] },
      { word: "FLINT", clues: ["Easy: A hard rock used to make fire by striking.", "Medium: A city in Michigan known for a water crisis.", "Hard: Also a common surname and first name in fiction."] },
    ]
  },
  {
    rounds: [
      { word: "FROST", clues: ["Easy: Ice crystals that form on cold surfaces.", "Medium: A famous American poet shares this name.", "Hard: Can describe a cold, unfriendly personality."] },
      { word: "LATCH", clues: ["Easy: A small catch that fastens a door or gate.", "Medium: To 'latch onto' something means to cling to it.", "Hard: Babies do this when beginning to breastfeed."] },
      { word: "QUIRK", clues: ["Easy: An unusual habit or feature of someone.", "Medium: A small, unexpected twist in a design or system.", "Hard: Rhymes with 'work' and 'smirk'."] },
      { word: "SHAWL", clues: ["Easy: A piece of fabric wrapped around the shoulders.", "Medium: Often associated with grandmothers and cold evenings.", "Hard: One letter different from a word meaning 'shallow'."] },
      { word: "KNEEL", clues: ["Easy: To go down on one or both knees.", "Medium: Athletes do this as a form of protest or respect.", "Hard: A knight does this before a monarch."] },
    ]
  },
  {
    rounds: [
      { word: "DWARF", clues: ["Easy: A mythical small being, often a miner in fairy tales.", "Medium: What astronomers call a small type of star.", "Hard: Snow White's companions are seven of these."] },
      { word: "PLUCK", clues: ["Easy: To pull something off or out sharply.", "Medium: Also means courage and determination.", "Hard: A musician does this to a guitar string."] },
      { word: "GRAZE", clues: ["Easy: When animals eat grass directly from a field.", "Medium: Also means to lightly scrape skin.", "Hard: Cows, sheep, and horses all do this daily."] },
      { word: "SHARD", clues: ["Easy: A sharp, broken piece of glass or pottery.", "Medium: A famous London skyscraper shares this name.", "Hard: Archaeologists spend hours sorting these from dig sites."] },
      { word: "TROVE", clues: ["Easy: A collection of valuable things.", "Medium: Usually paired with the word 'treasure'.", "Hard: From Old French, related to the verb 'to find'."] },
    ]
  },
  {
    rounds: [
      { word: "BRINE", clues: ["Easy: Very salty water, like the ocean.", "Medium: Used to preserve food like pickles and olives.", "Hard: Rhymes with 'wine' and 'mine'."] },
      { word: "CLEFT", clues: ["Easy: A narrow opening or split in rock or a surface.", "Medium: A medical condition affecting the lip or palate.", "Hard: Also describes a dimple-like feature on a chin."] },
      { word: "SMELT", clues: ["Easy: A small silver fish found in cold waters.", "Medium: Also the process of extracting metal from ore.", "Hard: Can be the past tense of a common sensory verb."] },
      { word: "GLYPH", clues: ["Easy: A carved or written symbol, like ancient Egyptian writing.", "Medium: In design, any visual character or icon.", "Hard: Emojis are sometimes called this in typography."] },
      { word: "NOTCH", clues: ["Easy: A small V-shaped cut in a surface.", "Medium: A level or degree ‚Äî 'up a notch' means better.", "Hard: A gap between mountains in a ridge is called this."] },
    ]
  },
  {
    rounds: [
      { word: "VIVID", clues: ["Easy: Very bright, clear, or lifelike.", "Medium: Often used to describe a striking dream.", "Hard: From Latin 'vivere', meaning to live."] },
      { word: "SCALD", clues: ["Easy: To burn with hot liquid or steam.", "Medium: Cooks do this to tomatoes before peeling them.", "Hard: You do this to milk before adding it to some recipes."] },
      { word: "KNOLL", clues: ["Easy: A small round hill.", "Medium: The Grassy ___ is famous from JFK conspiracy theories.", "Hard: Rhymes with 'toll' and 'roll'."] },
      { word: "BROTH", clues: ["Easy: A thin soup made from simmered meat or vegetables.", "Medium: The base for many soups and risottos.", "Hard: Distinguished from stock by being made primarily from meat."] },
      { word: "WRATH", clues: ["Easy: Extreme anger or fury.", "Medium: One of the seven deadly sins.", "Hard: The Grapes of ___: a Steinbeck classic."] },
    ]
  },
  {
    rounds: [
      { word: "GLEAM", clues: ["Easy: A faint or brief light.", "Medium: Often describes the shine of polished metal.", "Hard: Rhymes with 'dream' and 'stream'."] },
      { word: "PERCH", clues: ["Easy: A place where a bird sits.", "Medium: Also a type of freshwater fish.", "Hard: Can mean to sit on something high or narrow."] },
      { word: "VAULT", clues: ["Easy: A secure room for storing valuables.", "Medium: Also a gymnastic move over an obstacle.", "Hard: In architecture, an arched ceiling structure."] },
      { word: "DRIFT", clues: ["Easy: To move slowly without direction.", "Medium: Snow piled up by wind forms one of these.", "Hard: Also the meaning shift of a word over time."] },
      { word: "CLASP", clues: ["Easy: To grip something tightly.", "Medium: A fastener on jewelry or bags.", "Hard: Rhymes with 'grasp'."] },
    ]
  },
  {
    rounds: [
      { word: "MARSH", clues: ["Easy: A type of wetland with grassy vegetation.", "Medium: Often found near rivers and coastlines.", "Hard: Also a common English surname."] },
      { word: "VIGOR", clues: ["Easy: Physical strength and energy.", "Medium: A synonym for vitality or liveliness.", "Hard: The British spelling adds a 'u'."] },
      { word: "BLUFF", clues: ["Easy: To pretend to have a stronger position than you do.", "Medium: Also a steep cliff or riverbank.", "Hard: A key strategy in poker."] },
      { word: "SPORE", clues: ["Easy: How mushrooms and ferns reproduce.", "Medium: A tiny cell that can grow into a new organism.", "Hard: Can survive extreme heat and dryness."] },
      { word: "GAVEL", clues: ["Easy: A small hammer used by a judge.", "Medium: Banged on a desk to call for order.", "Hard: Also used by auctioneers."] },
    ]
  },
  {
    rounds: [
      { word: "FJORD", clues: ["Easy: A long, narrow inlet of sea between steep cliffs.", "Medium: Norway is famous for having many of these.", "Hard: Formed by glacial erosion over thousands of years."] },
      { word: "CHALK", clues: ["Easy: Used to write on a blackboard.", "Medium: Made from soft limestone or calcium carbonate.", "Hard: Gymnasts and climbers rub this on their hands."] },
      { word: "STUMP", clues: ["Easy: What remains after a tree is cut down.", "Medium: To baffle or confuse someone.", "Hard: In cricket, one of the three vertical posts."] },
      { word: "REIGN", clues: ["Easy: The period a king or queen rules.", "Medium: Sounds exactly like a weather phenomenon.", "Hard: Queen Elizabeth II had the longest one in British history."] },
      { word: "PULSE", clues: ["Easy: The rhythmic beating of your heart.", "Medium: Also refers to edible seeds like lentils and chickpeas.", "Hard: Doctors check this at your wrist or neck."] },
    ]
  },
  {
    rounds: [
      { word: "BRAVE", clues: ["Easy: Showing courage in the face of danger.", "Medium: A Disney/Pixar film about a Scottish princess.", "Hard: Also an older term for a Native American warrior."] },
      { word: "LODGE", clues: ["Easy: A small house in a wilderness area.", "Medium: A local branch of an organization like the Freemasons.", "Hard: Also means to become stuck in a narrow space."] },
      { word: "CRUST", clues: ["Easy: The outer layer of bread.", "Medium: Also the outermost layer of the Earth.", "Hard: Pizza lovers debate thin vs. thick versions of this."] },
      { word: "STEEL", clues: ["Easy: An alloy of iron and carbon.", "Medium: Pittsburgh was once known as the city of this.", "Hard: Can also mean to mentally prepare yourself."] },
      { word: "LYNCH", clues: ["Easy: A famous film director named David.", "Medium: Also a common Irish surname.", "Hard: Directed Twin Peaks and Mulholland Drive."] },
    ]
  },
  {
    rounds: [
      { word: "GRIME", clues: ["Easy: Dirt or filth built up on a surface.", "Medium: Also a genre of electronic music from London.", "Hard: Rhymes with 'time' and 'climb'."] },
      { word: "SWORN", clues: ["Easy: Having made a solemn promise or oath.", "Medium: Past participle of 'swear'.", "Hard: Enemies who are this are considered permanent rivals."] },
      { word: "PLUME", clues: ["Easy: A large, showy feather.", "Medium: A column of smoke rising into the air.", "Hard: Writers once dipped these in ink to write."] },
      { word: "FLUKE", clues: ["Easy: A lucky accident or coincidence.", "Medium: Also the flat tail part of a whale.", "Hard: In biology, a type of parasitic flatworm."] },
      { word: "SCOUT", clues: ["Easy: Someone sent ahead to gather information.", "Medium: A youth organization focused on outdoor skills.", "Hard: In baseball, someone who evaluates players' talent."] },
    ]
  },
  {
    rounds: [
      { word: "CACHE", clues: ["Easy: A hidden store of supplies or valuables.", "Medium: Your browser stores temporary data in one.", "Hard: Pronounced the same as 'cash'."] },
      { word: "LEDGE", clues: ["Easy: A narrow horizontal surface jutting from a wall.", "Medium: Rock climbers rest on these during ascents.", "Hard: A window often has one of these."] },
      { word: "SWAMP", clues: ["Easy: A wetland area with standing water and trees.", "Medium: Also means to overwhelm or flood.", "Hard: Shrek famously lives in one of these."] },
      { word: "TALON", clues: ["Easy: The sharp claw of a bird of prey.", "Medium: Eagles and hawks use these to catch food.", "Hard: Also a common name for villains in fiction."] },
      { word: "BRISK", clues: ["Easy: Quick and energetic.", "Medium: Often used to describe a cold, refreshing wind.", "Hard: A ___ walk is faster than a stroll."] },
    ]
  },
  {
    rounds: [
      { word: "MANOR", clues: ["Easy: A large country house with grounds.", "Medium: The main house on a feudal estate.", "Hard: Batman lives in Wayne ___."] },
      { word: "CRAFT", clues: ["Easy: An activity involving skill in making things by hand.", "Medium: Also a word for a boat or aircraft.", "Hard: Witchcraft ends with this word."] },
      { word: "BLOOM", clues: ["Easy: When a flower opens its petals.", "Medium: A sudden growth or flourishing of something.", "Hard: The protagonist of James Joyce's Ulysses."] },
      { word: "RIDGE", clues: ["Easy: A long narrow hilltop or mountain crest.", "Medium: The raised line where two roof surfaces meet.", "Hard: Potato chips with grooves are called this."] },
      { word: "SPIRE", clues: ["Easy: A tall pointed structure on top of a church.", "Medium: The tallest part of many Gothic cathedrals.", "Hard: Rhymes with 'fire' and 'hire'."] },
    ]
  },
  {
    rounds: [
      { word: "CRUDE", clues: ["Easy: In a rough or unrefined state.", "Medium: Oil in its natural form is called this.", "Hard: Can also mean offensive or vulgar."] },
      { word: "HASTE", clues: ["Easy: Excessive speed or urgency.", "Medium: 'Make ___, not waste' is a common saying.", "Hard: A famous proverb says this 'makes waste'."] },
      { word: "PYLON", clues: ["Easy: A tall structure supporting electrical power lines.", "Medium: Cone-shaped markers used on roads and sports fields.", "Hard: Also a gateway structure in ancient Egyptian temples."] },
      { word: "SHRUB", clues: ["Easy: A small woody plant, smaller than a tree.", "Medium: Found in gardens and hedgerows.", "Hard: Also a type of vinegar-based drinking syrup."] },
      { word: "TROUT", clues: ["Easy: A freshwater fish popular with anglers.", "Medium: Often found in cold mountain streams.", "Hard: Rainbow and brown are two common varieties."] },
    ]
  },
  {
    rounds: [
      { word: "CIDER", clues: ["Easy: A drink made from pressed apples.", "Medium: Can be alcoholic or non-alcoholic.", "Hard: Particularly popular in England and Normandy."] },
      { word: "DROIT", clues: ["Easy: A French word meaning 'right' or 'law'.", "Medium: Used in English legal terminology.", "Hard: Five letters, starts with D, ends with T."] },
      { word: "OLIVE", clues: ["Easy: A small oval fruit used to make oil.", "Medium: A dull yellowish-green color.", "Hard: Popeye's girlfriend is named this."] },
      { word: "THYME", clues: ["Easy: A fragrant herb used in cooking.", "Medium: Sounds exactly like a word for clock measurement.", "Hard: A key ingredient in bouquet garni."] },
      { word: "IVORY", clues: ["Easy: The hard white material of elephant tusks.", "Medium: Also a shade of white.", "Hard: Piano keys were historically made from this."] },
    ]
  },
  {
    rounds: [
      { word: "EMBER", clues: ["Easy: A glowing piece of coal or wood in a dying fire.", "Medium: Often seen after a campfire burns down.", "Hard: The month of September, November, and December all contain this word."] },
      { word: "LLAMA", clues: ["Easy: A South American animal related to the camel.", "Medium: Known for spitting when annoyed.", "Hard: Used as pack animals in the Andes mountains."] },
      { word: "QUOTA", clues: ["Easy: A limited quantity of something that is allowed.", "Medium: Sales teams are often given one to meet.", "Hard: Immigration policies sometimes set these."] },
      { word: "PIXEL", clues: ["Easy: The smallest unit of a digital image.", "Medium: More of these means higher resolution.", "Hard: Short for 'picture element'."] },
      { word: "YACHT", clues: ["Easy: A large, luxurious sailing boat.", "Medium: Associated with wealthy people and racing.", "Hard: The word comes from Dutch."] },
    ]
  },
  {
    rounds: [
      { word: "WALTZ", clues: ["Easy: A ballroom dance in three-quarter time.", "Medium: Originated in Vienna in the 18th century.", "Hard: Strauss composed many famous ones."] },
      { word: "MOOSE", clues: ["Easy: The largest member of the deer family.", "Medium: Has large, flat antlers and lives in northern forests.", "Hard: The plural is the same as the singular."] },
      { word: "BADGE", clues: ["Easy: A small piece of metal or cloth showing identity.", "Medium: Police officers and scouts both wear these.", "Hard: Also used figuratively as a mark of achievement."] },
      { word: "NERVE", clues: ["Easy: A fiber that transmits signals in the body.", "Medium: Having a lot of this means being bold or audacious.", "Hard: Can also mean to cause someone anxiety."] },
      { word: "TORCH", clues: ["Easy: A portable light source, often with a flame.", "Medium: The British word for what Americans call a flashlight.", "Hard: The Olympic flame is carried on one of these."] },
    ]
  },
  {
    rounds: [
      { word: "BLISS", clues: ["Easy: Supreme happiness or joy.", "Medium: Ignorance is sometimes said to be this.", "Hard: Rhymes with 'kiss' and 'miss'."] },
      { word: "FORGE", clues: ["Easy: A workshop where metal is heated and shaped.", "Medium: Also means to create something with effort.", "Hard: Can mean to produce a fraudulent copy."] },
      { word: "CAULK", clues: ["Easy: A waterproof filler used to seal joints.", "Medium: Commonly used around bathtubs and windows.", "Hard: The 'l' in this word is silent."] },
      { word: "HEIST", clues: ["Easy: A robbery, especially of a bank or museum.", "Medium: The plot of many action movies.", "Hard: Ocean's Eleven is a famous ___ film."] },
      { word: "WRUNG", clues: ["Easy: Past tense of 'wring', meaning to squeeze and twist.", "Medium: What you do to a wet towel.", "Hard: Sounds the same as a step on a ladder."] },
    ]
  },
  {
    rounds: [
      { word: "NYMPH", clues: ["Easy: A mythological spirit of nature.", "Medium: In Greek myths, they inhabit forests and streams.", "Hard: Also the immature form of certain insects."] },
      { word: "PLAZA", clues: ["Easy: A public square or open space in a city.", "Medium: Often a shopping center in American English.", "Hard: From Spanish, meaning a broad open area."] },
      { word: "TIARA", clues: ["Easy: A jeweled crown worn by royalty or pageant winners.", "Medium: Smaller and more delicate than a full crown.", "Hard: Brides sometimes wear these at weddings."] },
      { word: "ROGUE", clues: ["Easy: A dishonest or unprincipled person.", "Medium: Also means operating outside normal boundaries.", "Hard: A Star Wars film used this as its subtitle."] },
      { word: "USHER", clues: ["Easy: A person who shows people to their seats.", "Medium: Also a famous R&B singer.", "Hard: Can mean to guide or escort someone somewhere."] },
    ]
  },
  {
    rounds: [
      { word: "AGILE", clues: ["Easy: Able to move quickly and easily.", "Medium: A popular software development methodology.", "Hard: Cats and gymnasts are often described as this."] },
      { word: "CLOAK", clues: ["Easy: A loose outer garment, like a cape.", "Medium: Often associated with mystery and invisibility.", "Hard: '___ and dagger' means secretive or covert."] },
      { word: "FRANK", clues: ["Easy: Direct and honest in speech.", "Medium: Also a common first name.", "Hard: Another word for a hot dog."] },
      { word: "KNACK", clues: ["Easy: A skill or talent for doing something.", "Medium: An intuitive ability that seems natural.", "Hard: Rhymes with 'snack' and 'track'."] },
      { word: "STALE", clues: ["Easy: No longer fresh, especially bread.", "Medium: Can also describe a joke that is overused.", "Hard: In chess, this word precedes 'mate' for a draw."] },
    ]
  },
  {
    rounds: [
      { word: "BIRCH", clues: ["Easy: A tree with distinctive white bark.", "Medium: Its wood is used for furniture and plywood.", "Hard: Was historically used to make canoes."] },
      { word: "DWELL", clues: ["Easy: To live or reside in a place.", "Medium: To think or talk about something at length.", "Hard: Past tense can be 'dwelt' or 'dwelled'."] },
      { word: "GUISE", clues: ["Easy: An outward appearance, often deceptive.", "Medium: A disguise drops the first two letters of this word.", "Hard: Rhymes with 'wise' and 'size'."] },
      { word: "MIRTH", clues: ["Easy: Laughter and fun.", "Medium: A synonym for amusement or merriment.", "Hard: Often paired with 'joy' in holiday greetings."] },
      { word: "PLANK", clues: ["Easy: A long flat piece of wood.", "Medium: Walking one was a pirate punishment.", "Hard: Also a core-strengthening exercise."] },
    ]
  },
  {
    rounds: [
      { word: "OASIS", clues: ["Easy: A fertile spot in a desert with water.", "Medium: Also a famous British rock band.", "Hard: Metaphorically, a calm place in a hectic environment."] },
      { word: "MULCH", clues: ["Easy: Material spread around plants to retain moisture.", "Medium: Often made from bark, leaves, or straw.", "Hard: Gardeners apply this to suppress weeds."] },
      { word: "HERON", clues: ["Easy: A tall wading bird often seen near water.", "Medium: Stands motionless while fishing.", "Hard: Great blue and grey are common species."] },
      { word: "STORK", clues: ["Easy: A large wading bird with long legs.", "Medium: In folklore, this bird delivers babies.", "Hard: Migrates thousands of miles between Europe and Africa."] },
      { word: "QUILT", clues: ["Easy: A warm bed covering made of padded fabric.", "Medium: Made by sewing together layers of material.", "Hard: A traditional craft often done in communal 'bees'."] },
    ]
  },
  {
    rounds: [
      { word: "WHELK", clues: ["Easy: A type of sea snail with a spiral shell.", "Medium: Commonly found on rocky shores.", "Hard: Eaten as a delicacy in parts of Europe."] },
      { word: "AZURE", clues: ["Easy: A bright blue color like a clear sky.", "Medium: Microsoft's cloud computing platform is named this.", "Hard: From the Arabic word for lapis lazuli."] },
      { word: "CREPE", clues: ["Easy: A thin French pancake.", "Medium: Also a type of thin, crinkled fabric.", "Hard: Often filled with Nutella and strawberries."] },
      { word: "KNAVE", clues: ["Easy: An old word for a dishonest man.", "Medium: Another name for the Jack in a deck of cards.", "Hard: The Knave of Hearts appears in Alice in Wonderland."] },
      { word: "TUNIC", clues: ["Easy: A loose-fitting garment reaching to the knees.", "Medium: Worn in ancient Rome and Greece.", "Hard: Still part of some military dress uniforms."] },
    ]
  },
  {
    rounds: [
      { word: "GRIMY", clues: ["Easy: Covered with dirt or soot.", "Medium: A word describing something that needs a good scrub.", "Hard: London during the Industrial Revolution was often described this way."] },
      { word: "PIVOT", clues: ["Easy: A central point on which something turns.", "Medium: In basketball, keeping one foot planted while turning.", "Hard: In business, a fundamental change in strategy."] },
      { word: "SERUM", clues: ["Easy: The clear part of blood after clotting.", "Medium: A concentrated skincare product.", "Hard: Truth ___ is a fictional drug used in spy movies."] },
      { word: "FLASK", clues: ["Easy: A container for carrying drinks.", "Medium: Scientists use these in laboratories.", "Hard: A hip version is often associated with secret drinking."] },
      { word: "GIDDY", clues: ["Easy: Feeling lightheaded or dizzy.", "Medium: Can also mean excitedly happy.", "Hard: Heights can make some people feel this way."] },
    ]
  },
  {
    rounds: [
      { word: "BISON", clues: ["Easy: A large, shaggy North American mammal.", "Medium: Once roamed the Great Plains in millions.", "Hard: Often mistakenly called buffalo."] },
      { word: "DOUGH", clues: ["Easy: A thick mixture of flour and water used to make bread.", "Medium: Slang for money.", "Hard: Must be kneaded before baking."] },
      { word: "MANGO", clues: ["Easy: A sweet tropical fruit with orange flesh.", "Medium: Originally from South Asia.", "Hard: India produces the most of these in the world."] },
      { word: "RAVEN", clues: ["Easy: A large black bird, bigger than a crow.", "Medium: Featured in a famous poem by Edgar Allan Poe.", "Hard: Known for their intelligence and problem-solving."] },
      { word: "TEMPO", clues: ["Easy: The speed of a piece of music.", "Medium: Measured in beats per minute.", "Hard: Allegro and adagio describe different types of this."] },
    ]
  },
  {
    rounds: [
      { word: "CEDAR", clues: ["Easy: A type of evergreen tree with fragrant wood.", "Medium: Often used to line closets and chests.", "Hard: The flag of Lebanon features one of these."] },
      { word: "GHOST", clues: ["Easy: The spirit of a dead person.", "Medium: To suddenly stop communicating with someone.", "Hard: A famous Hamlet scene features one."] },
      { word: "LUNAR", clues: ["Easy: Relating to the moon.", "Medium: A ___ eclipse happens when Earth blocks sunlight to the moon.", "Hard: The Chinese calendar is based on ___ cycles."] },
      { word: "PESTO", clues: ["Easy: A green Italian sauce made with basil.", "Medium: Also contains pine nuts, garlic, and Parmesan.", "Hard: The name comes from the Italian word for 'crushed'."] },
      { word: "VERGE", clues: ["Easy: The edge or border of something.", "Medium: 'On the ___ of' means about to happen.", "Hard: Also the grassy strip beside a British road."] },
    ]
  },
  {
    rounds: [
      { word: "ABODE", clues: ["Easy: A place of residence or home.", "Medium: A somewhat formal or literary word for where you live.", "Hard: Adobe without the second letter."] },
      { word: "CHORD", clues: ["Easy: Three or more musical notes played together.", "Medium: 'Strike a ___' means to evoke a feeling.", "Hard: Not to be confused with 'cord', which is a rope."] },
      { word: "EASEL", clues: ["Easy: A stand used to hold a painting canvas.", "Medium: Found in art studios and classrooms.", "Hard: Comes from the Dutch word for 'donkey'."] },
      { word: "LEMON", clues: ["Easy: A sour yellow citrus fruit.", "Medium: Slang for a defective product, especially a car.", "Hard: A key ingredient in both lemonade and meringue pie."] },
      { word: "EPOCH", clues: ["Easy: A significant period of time in history.", "Medium: Marks the beginning of a new era.", "Hard: In computing, Unix time starts from one in 1970."] },
    ]
  },
  {
    rounds: [
      { word: "ATLAS", clues: ["Easy: A book of maps.", "Medium: Named after a Titan from Greek mythology.", "Hard: Also the first cervical vertebra in the spine."] },
      { word: "DELTA", clues: ["Easy: The fourth letter of the Greek alphabet.", "Medium: A triangular area where a river meets the sea.", "Hard: Also the name of a major U.S. airline."] },
      { word: "SAUNA", clues: ["Easy: A small room used for steam baths.", "Medium: Originated in Finland.", "Hard: Temperatures inside can reach 80 to 100 degrees Celsius."] },
      { word: "SALSA", clues: ["Easy: A spicy tomato-based sauce from Mexico.", "Medium: Also a lively Latin dance style.", "Hard: Means 'sauce' in both Spanish and Italian."] },
      { word: "WHEAT", clues: ["Easy: A cereal grain used to make flour and bread.", "Medium: One of the world's most important crops.", "Hard: Separating this from chaff means finding what's valuable."] },
    ]
  },
  {
    rounds: [
      { word: "GOURD", clues: ["Easy: A hard-shelled fruit related to pumpkins.", "Medium: Often dried and used as containers or decorations.", "Hard: Maracas are traditionally made from these."] },
      { word: "HAVEN", clues: ["Easy: A safe place or refuge.", "Medium: Often preceded by 'safe' for emphasis.", "Hard: Also the name of several coastal towns."] },
      { word: "MIDST", clues: ["Easy: The middle part of something.", "Medium: 'In the ___ of' means surrounded by.", "Hard: An old-fashioned or literary word for 'middle'."] },
      { word: "RADAR", clues: ["Easy: A system for detecting objects using radio waves.", "Medium: A palindrome ‚Äî reads the same forwards and backwards.", "Hard: Stands for Radio Detection And Ranging."] },
      { word: "THIEF", clues: ["Easy: A person who steals.", "Medium: A famous saying claims there is honor among these.", "Hard: Time is sometimes called the greatest one."] },
    ]
  },
  {
    rounds: [
      { word: "ANNEX", clues: ["Easy: An addition to a building.", "Medium: Also means to add territory to a country.", "Hard: Contains a double letter in the middle."] },
      { word: "DEPOT", clues: ["Easy: A place for storing goods or vehicles.", "Medium: Also a bus or train station.", "Hard: Home ___ is a well-known hardware store chain."] },
      { word: "KAYAK", clues: ["Easy: A small, narrow watercraft propelled by a paddle.", "Medium: A palindrome ‚Äî spelled the same forwards and backwards.", "Hard: Originally used by the Inuit people."] },
      { word: "SIREN", clues: ["Easy: A device that makes a loud warning sound.", "Medium: In Greek mythology, creatures who lured sailors with song.", "Hard: Emergency vehicles use these to clear traffic."] },
      { word: "TRUCE", clues: ["Easy: An agreement to stop fighting temporarily.", "Medium: Often called during wars to exchange prisoners.", "Hard: A white flag is the universal symbol for this."] },
    ]
  },
  {
    rounds: [
      { word: "BASIL", clues: ["Easy: A fragrant herb commonly used in Italian cooking.", "Medium: The main ingredient in pesto sauce.", "Hard: Also a name ‚Äî Basil Rathbone played Sherlock Holmes."] },
      { word: "COBRA", clues: ["Easy: A venomous snake known for its hood.", "Medium: Found mainly in Africa and Asia.", "Hard: King ___ is the world's longest venomous snake."] },
      { word: "HAIKU", clues: ["Easy: A Japanese poem with three lines.", "Medium: Has a 5-7-5 syllable structure.", "Hard: Often focuses on nature and the seasons."] },
      { word: "MAPLE", clues: ["Easy: A tree known for its colorful autumn leaves.", "Medium: Its leaf is the symbol on the Canadian flag.", "Hard: The sap of this tree is boiled to make syrup."] },
      { word: "ORBIT", clues: ["Easy: The path one object takes around another in space.", "Medium: Earth completes one around the Sun each year.", "Hard: Also means the eye socket in anatomy."] },
    ]
  },
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GAME REGISTRY
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
const GAMES = [
  { id: "cipher",     name: "Cipher",     emoji: "üîê", type: "Single Puzzle", desc: "Decode an encrypted quote by cracking the letter substitution cipher.", accent: "#4a6741", render: renderCipher },
  { id: "chronicle",  name: "Chronicle",  emoji: "üìú", type: "Single Round",  desc: "Arrange five historical events in the correct chronological order.", accent: "#3d4f5c", render: renderChronicle },
  { id: "wavelength", name: "Wavelength", emoji: "üî¨", type: "5 Rounds",      desc: "Place real scientific objects on a factual scale. How well do you know the universe?", accent: "#8b3a2a", render: renderWavelength },
  { id: "mimic",      name: "Mimic",      emoji: "ü™û", type: "5 Rounds",      desc: "Guess the hidden 5-letter word from three progressive clues.", accent: "#6b3a7d", render: renderMimic },
];

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// NAVIGATION (no hub ‚Äî direct game launch)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
let currentGameIdx = 0;

function getNextGame(currentId) {
  const idx = GAMES.findIndex(g => g.id === currentId);
  return GAMES[(idx + 1) % GAMES.length];
}

function launchGame(g) {
  currentGameIdx = GAMES.findIndex(gm => gm.id === g.id);
  const shell = document.getElementById('game-shell');
  shell.style.display = 'block';
  shell.style.animation = 'none';
  shell.offsetHeight;
  shell.style.animation = 'fadeIn 0.3s ease';
  document.getElementById('shell-title').textContent = g.emoji + ' ' + g.name;
  document.getElementById('shell-round').textContent = g.type;
  document.getElementById('game-content').innerHTML = '';

  // Next game button
  const nextBtn = document.getElementById('next-game-btn');
  const next = getNextGame(g.id);
  nextBtn.textContent = next.emoji + ' Next: ' + next.name + ' ‚Üí';
  nextBtn.style.display = 'inline-block';
  nextBtn.onclick = () => launchGame(next);

  if (window.location.hash.replace('#','').toLowerCase() !== g.id) {
    history.replaceState(null, '', '#' + g.id);
  }
  g.render();
}

// Build "other games" cards shown after completing a game
function otherGamesCards(currentId) {
  const wrap = document.createElement('div');
  wrap.style.cssText = 'margin-top:24px;';

  const lbl = document.createElement('div');
  lbl.className = 'prompt-label';
  lbl.textContent = 'More daily puzzles';
  lbl.style.marginBottom = '12px';
  wrap.appendChild(lbl);

  const grid = document.createElement('div');
  grid.className = 'game-grid';
  grid.style.cssText = 'grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 10px;';

  GAMES.filter(g => g.id !== currentId).forEach((g, idx) => {
    const prog = loadProgress(g.id);
    const done = prog && prog.finished;
    const card = document.createElement('div');
    card.className = 'game-card' + (done ? ' done' : '');
    card.style.setProperty('--card-accent', g.accent);
    card.style.animationDelay = (idx * 0.08) + 's';
    card.innerHTML = `
      <span class="card-emoji" style="font-size:24px">${g.emoji}</span>
      <div class="card-name" style="font-size:20px">${g.name}</div>
      <div class="card-type">${g.type}</div>
      <div class="card-cta ${done ? 'done-label' : ''}">${done ? '‚úì Completed' : '‚ñ∂ Play'}</div>
    `;
    card.onclick = () => launchGame(g);
    grid.appendChild(card);
  });
  wrap.appendChild(grid);

  // Home button
  const homeBtn = document.createElement('a');
  homeBtn.href = '../';
  homeBtn.className = 'back-btn';
  homeBtn.style.cssText = 'display:inline-block;margin-top:16px;text-decoration:none;';
  homeBtn.textContent = 'üè† Back to BrainSmacks';
  wrap.appendChild(homeBtn);

  return wrap;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// SHARED HELPERS
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function howToPlay(html, onDismiss) {
  const htpKey = '__htp__' + (onDismiss.name || 'x').slice(0,12);
  const prog = loadProgress(htpKey);
  if (prog && prog.seen) { onDismiss(); return; }
  const div = document.createElement('div');
  div.className = 'how-to-play';
  div.innerHTML = `<div class="htp-title">How to Play</div><div class="htp-text">${html}</div>
    <button class="htp-dismiss" id="htp-btn">Got it ‚Äî Let's Play!</button>`;
  document.getElementById('game-content').innerHTML = '';
  document.getElementById('game-content').appendChild(div);
  document.getElementById('htp-btn').onclick = () => {
    saveProgress(htpKey, { seen: true });
    onDismiss();
  };
}

function roundProgress(scores, total, activeIdx) {
  const bar = document.createElement('div');
  bar.className = 'round-progress';
  for (let i = 0; i < total; i++) {
    const d = document.createElement('div');
    let cls = 'round-dot';
    if (i < scores.length) cls += scores[i] > 0 ? ' won' : ' lost';
    else if (i === (activeIdx !== undefined ? activeIdx : scores.length)) cls += ' active';
    d.className = cls;
    bar.appendChild(d);
  }
  return bar;
}

function scoreBar(scores) {
  const bar = document.createElement('div');
  bar.className = 'score-bar';
  scores.forEach((s) => {
    const pip = document.createElement('div');
    pip.className = 'score-pip ' + (s > 0 ? 'won' : 'lost');
    pip.textContent = s > 0 ? s : '‚úó';
    bar.appendChild(pip);
  });
  const lbl = document.createElement('span');
  lbl.className = 'score-label';
  const total = scores.reduce((a,b) => a+b, 0);
  lbl.textContent = `Total: ${total} pts`;
  bar.appendChild(lbl);
  return bar;
}

function makeConfetti(container) {
  const colors = document.body.classList.contains('light-theme')
    ? ['#6b52a3','#5a7a9a','#a07828','#b5433a','#7a746c','#c49a3c']
    : ['#7c3aed','#a78bfa','#6fcf6f','#d4a017','#ff69b4','#7eb8d8'];
  const wrap = document.createElement('div');
  wrap.className = 'confetti-container';
  for (let i = 0; i < 20; i++) {
    const p = document.createElement('div');
    p.className = 'confetti-particle';
    p.style.left = (10 + Math.random() * 80) + '%';
    p.style.top = (20 + Math.random() * 30) + '%';
    p.style.background = colors[Math.floor(Math.random() * colors.length)];
    p.style.animationDelay = (Math.random() * 0.5) + 's';
    p.style.animationDuration = (1 + Math.random() * 1) + 's';
    wrap.appendChild(p);
  }
  container.appendChild(wrap);
}

function resultBanner(won, title, answer, sub, scoreEl, gameId) {
  const wrap = document.createElement('div');
  const div = document.createElement('div');
  div.className = 'result-banner ' + (won ? 'won' : 'lost');
  if (won) makeConfetti(div);
  div.innerHTML += `<div class="result-emoji">${won ? 'üéâ' : 'üòî'}</div>
    <div class="result-title">${title}</div>
    <div class="result-answer">${answer}</div>`;
  if (scoreEl) div.appendChild(scoreEl);
  const sub2 = document.createElement('div');
  sub2.className = 'result-sub';
  sub2.textContent = sub;
  div.appendChild(sub2);
  // Come-back message based on performance
  const comeback = document.createElement('div');
  comeback.style.cssText = 'margin-top:10px;font-size:14px;font-weight:600;letter-spacing:1px;';
  if (won) {
    const msgs = ['üî• Come back tomorrow for more!', 'üí™ See you tomorrow, champ!', '‚≠ê New puzzle drops tomorrow!'];
    comeback.style.color = 'var(--accent-light)';
    comeback.textContent = msgs[Math.floor(Math.random() * msgs.length)];
  } else {
    const msgs = ['üí° Try again tomorrow!', 'üìà New puzzle tomorrow ‚Äî you got this!', 'üéØ Tomorrow\'s a new chance!'];
    comeback.style.color = 'var(--muted)';
    comeback.textContent = msgs[Math.floor(Math.random() * msgs.length)];
  }
  div.appendChild(comeback);
  wrap.appendChild(div);
  // Show other daily games after completion
  if (gameId) wrap.appendChild(otherGamesCards(gameId));
  return wrap;
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GAME 1: CIPHER
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderCipher() {
  howToPlay(`
    A famous quote has been <strong>encrypted</strong> with a substitution cipher ‚Äî each letter has been swapped with a different letter throughout.<br><br>
    <strong>How to play:</strong> Click a coded letter in the quote (or mapping table), then click the letter you think it decodes to on the keyboard. All instances update instantly.<br><br>
    <strong>Tips:</strong> Use <strong>letter frequency</strong> ‚Äî E, T, A, O, I, N are the most common. Short words like "THE", "IS", "TO" are good starting points.<br><br>
    You get <strong>3 free hints</strong>. Correct letters <span style="color:var(--sage)">lock in place</span>. Click a mapped letter again to <strong>undo</strong>. New cipher every <strong>day</strong>.
  `, startCipher);
}

function startCipher() {
  const raw = CIPHER_POOL[getDayIndex(CIPHER_POOL.length, GAME_OFFSETS.cipher)];
  const { plain, author } = raw;
  const cipherData = makeCipher(plain);

  const prog = loadProgress('cipher') || { userMap: {}, hints: 0, finished: false };
  const content = document.getElementById('game-content');

  const encLetters = new Set();
  const encFreq = {};
  for (const c of cipherData.encoded) {
    if (c >= 'A' && c <= 'Z') {
      encLetters.add(c);
      encFreq[c] = (encFreq[c] || 0) + 1;
    }
  }
  const maxFreq = Math.max(...Object.values(encFreq));

  const plainLettersNeeded = new Set();
  for (const c of plain) {
    if (c >= 'A' && c <= 'Z') plainLettersNeeded.add(c);
  }
  const totalLettersNeeded = plainLettersNeeded.size;

  function isCorrect(encLetter, decLetter) {
    return cipherData.decMap[encLetter] === decLetter;
  }

  function countCorrectMappings() {
    let n = 0;
    for (const [enc, dec] of Object.entries(prog.userMap)) {
      if (isCorrect(enc, dec)) n++;
    }
    return n;
  }

  function isComplete() {
    for (const enc of encLetters) {
      if (!prog.userMap[enc] || !isCorrect(enc, prog.userMap[enc])) return false;
    }
    return true;
  }

  let selectedEnc = null;

  function render() {
    content.innerHTML = '';
    const area = document.createElement('div');
    area.className = 'game-area';

    if (prog.finished || isComplete()) {
      prog.finished = true;
      saveProgress('cipher', prog);
      area.appendChild(resultBanner(true, 'Decoded!', `"${plain}"`, `‚Äî ${author} ¬∑ New cipher every day`, null, 'cipher'));
      content.appendChild(area);
      return;
    }

    // Toolbar
    const toolbar = document.createElement('div');
    toolbar.className = 'cipher-toolbar';
    const progressSpan = document.createElement('span');
    progressSpan.className = 'cipher-progress';
    const correct = countCorrectMappings();
    progressSpan.textContent = `${correct} / ${totalLettersNeeded} letters decoded`;
    toolbar.appendChild(progressSpan);

    if (prog.hints < 3) {
      const hintBtn = document.createElement('button');
      hintBtn.className = 'cipher-hint-btn';
      hintBtn.textContent = `üí° Hint (${3 - prog.hints} left)`;
      hintBtn.onclick = () => {
        for (const enc of encLetters) {
          if (!prog.userMap[enc] || !isCorrect(enc, prog.userMap[enc])) {
            const correctDec = cipherData.decMap[enc];
            // Remove conflicting mappings
            Object.keys(prog.userMap).forEach(k => {
              if (prog.userMap[k] === correctDec && k !== enc) delete prog.userMap[k];
            });
            prog.userMap[enc] = correctDec;
            prog.hints++;
            if (isComplete()) prog.finished = true;
            saveProgress('cipher', prog);
            selectedEnc = null;
            render();
            return;
          }
        }
      };
      toolbar.appendChild(hintBtn);
    }
    area.appendChild(toolbar);

    // Quote
    const lbl = document.createElement('div');
    lbl.className = 'prompt-label';
    lbl.textContent = 'Decode the quote';
    area.appendChild(lbl);

    const quoteArea = document.createElement('div');
    quoteArea.className = 'cipher-quote-area';

    const encWords = cipherData.encoded.split(' ');
    const plainWords = plain.split(' ');

    encWords.forEach((encWord, wi) => {
      const wordSpan = document.createElement('span');
      wordSpan.className = 'cipher-word';

      for (let ci = 0; ci < encWord.length; ci++) {
        const enc = encWord[ci];
        const isLetter = enc >= 'A' && enc <= 'Z';
        const cell = document.createElement('span');

        if (!isLetter) {
          cell.className = 'cipher-cell punct';
          cell.innerHTML = `<span class="cipher-encoded">&nbsp;</span><span class="cipher-decoded" style="border:none;color:var(--muted)">${enc}</span>`;
        } else {
          cell.className = 'cipher-cell';
          const mapped = prog.userMap[enc];
          const correct = mapped && isCorrect(enc, mapped);
          const locked = correct;

          if (locked) cell.classList.add('locked');
          else if (mapped) cell.classList.add('mapped');
          if (enc === selectedEnc && !locked) cell.classList.add('selected');

          cell.innerHTML = `<span class="cipher-encoded">${enc}</span><span class="cipher-decoded">${mapped || '_'}</span>`;

          cell.onclick = () => {
            if (locked) return;
            if (mapped && enc === selectedEnc) {
              delete prog.userMap[enc];
              saveProgress('cipher', prog);
              selectedEnc = null;
              render();
              return;
            }
            selectedEnc = enc;
            render();
          };
        }
        wordSpan.appendChild(cell);
      }
      quoteArea.appendChild(wordSpan);
    });
    area.appendChild(quoteArea);

    const authorDiv = document.createElement('div');
    authorDiv.style.cssText = 'font-size:11px;color:var(--muted);margin-bottom:20px;letter-spacing:1px;font-style:italic;';
    authorDiv.textContent = `‚Äî ${author}`;
    area.appendChild(authorDiv);

    // Frequency analysis
    const freqDiv = document.createElement('div');
    freqDiv.className = 'cipher-freq';
    freqDiv.innerHTML = '<div class="cipher-freq-title">Letter Frequency (in cipher text)</div>';
    const freqBars = document.createElement('div');
    freqBars.className = 'cipher-freq-bars';

    const sortedEnc = [...encLetters].sort((a, b) => (encFreq[b] || 0) - (encFreq[a] || 0));
    sortedEnc.forEach(enc => {
      const col = document.createElement('div');
      col.className = 'cipher-freq-col';
      if (enc === selectedEnc) col.classList.add('selected');
      const bar = document.createElement('div');
      bar.className = 'cipher-freq-bar';
      bar.style.height = Math.max(4, (encFreq[enc] / maxFreq) * 50) + 'px';
      const mapped = prog.userMap[enc];
      if (mapped && isCorrect(enc, mapped)) {
        bar.style.background = 'var(--sage)';
        bar.style.opacity = '0.8';
      }
      const lbl = document.createElement('div');
      lbl.className = 'cipher-freq-lbl';
      lbl.textContent = enc;
      col.appendChild(bar);
      col.appendChild(lbl);
      col.onclick = () => {
        if (prog.userMap[enc] && isCorrect(enc, prog.userMap[enc])) return;
        selectedEnc = enc;
        render();
      };
      freqBars.appendChild(col);
    });
    freqDiv.appendChild(freqBars);
    const freqHint = document.createElement('div');
    freqHint.className = 'cipher-freq-hint';
    freqHint.textContent = 'English frequency order: E T A O I N S H R D L U';
    freqDiv.appendChild(freqHint);
    area.appendChild(freqDiv);

    // Mapping table
    const mapLbl = document.createElement('div');
    mapLbl.className = 'prompt-label';
    mapLbl.textContent = selectedEnc ? `Selected: ${selectedEnc} ‚Üí click a letter below` : 'Mapping table (click to select)';
    area.appendChild(mapLbl);

    const mapGrid = document.createElement('div');
    mapGrid.className = 'cipher-map-grid';
    const allEnc = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').filter(l => encLetters.has(l));
    allEnc.forEach(enc => {
      const cell = document.createElement('div');
      cell.className = 'cipher-map-cell';
      const mapped = prog.userMap[enc];
      const locked = mapped && isCorrect(enc, mapped);
      if (locked) cell.classList.add('locked');
      if (enc === selectedEnc) cell.classList.add('selected');

      cell.innerHTML = `<div class="cipher-map-enc">${enc}</div><div class="cipher-map-arrow">‚Üì</div><div class="cipher-map-dec">${mapped || '?'}</div>`;
      cell.onclick = () => {
        if (locked) return;
        if (mapped && enc === selectedEnc) {
          delete prog.userMap[enc];
          saveProgress('cipher', prog);
          selectedEnc = null;
          render();
          return;
        }
        selectedEnc = enc;
        render();
      };
      mapGrid.appendChild(cell);
    });
    area.appendChild(mapGrid);

    // Keyboard
    const kbLbl = document.createElement('div');
    kbLbl.className = 'prompt-label';
    kbLbl.textContent = selectedEnc ? `Decode ${selectedEnc} as:` : 'Select a coded letter first';
    area.appendChild(kbLbl);

    const keyboard = document.createElement('div');
    keyboard.className = 'cipher-keyboard';

    const lockedDec = new Set();
    const usedDec = new Set();
    Object.entries(prog.userMap).forEach(([enc, dec]) => {
      usedDec.add(dec);
      if (isCorrect(enc, dec)) lockedDec.add(dec);
    });

    'ABCDEFGHIJKLMNOPQRSTUVWXYZ'.split('').forEach(letter => {
      const btn = document.createElement('div');
      btn.className = 'cipher-key';
      btn.textContent = letter;
      if (lockedDec.has(letter)) btn.classList.add('locked');
      else if (usedDec.has(letter)) btn.classList.add('used');

      btn.onclick = () => {
        if (!selectedEnc || lockedDec.has(letter)) return;
        // Remove existing mapping for this decoded letter (unless locked)
        Object.keys(prog.userMap).forEach(k => {
          if (prog.userMap[k] === letter && !isCorrect(k, letter)) delete prog.userMap[k];
        });
        prog.userMap[selectedEnc] = letter;
        selectedEnc = null;
        if (isComplete()) prog.finished = true;
        saveProgress('cipher', prog);
        render();
      };
      keyboard.appendChild(btn);
    });
    area.appendChild(keyboard);
    content.appendChild(area);
  }
  render();
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GAME 2: CHRONICLE (simplified: 1 round, all 5 events)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderChronicle() {
  howToPlay(`
    <strong>Five historical events</strong> are shuffled below. Arrange them in <strong>chronological order</strong> ‚Äî earliest at top, most recent at bottom.<br><br>
    <strong>Drag and drop</strong> to reorder, or use the <strong>‚Üë‚Üì arrows</strong>.<br><br>
    Hit <strong>Submit Order</strong> when ready. You get <strong>3 attempts</strong>. After each wrong attempt, correctly-placed events are <span style="color:var(--sage)">highlighted</span> and locked in place.<br><br>
    <strong>Scoring:</strong> 1st try = 3 pts, 2nd try = 2 pts, 3rd try = 1 pt.<br><br>
    A new set of events every <strong>day</strong>.
  `, startChronicle);
}

function startChronicle() {
  const puzzle = CHRONICLE_POOL[getDayIndex(CHRONICLE_POOL.length, GAME_OFFSETS.chronicle)];
  const prog = loadProgress('chronicle') || { attempts: 0, score: 0, finished: false };
  const content = document.getElementById('game-content');

  if (prog.finished) {
    content.innerHTML = '';
    const area = document.createElement('div');
    area.className = 'game-area';
    const scoreDiv = document.createElement('div');
    scoreDiv.className = 'result-score';
    scoreDiv.textContent = `${prog.score} / 3 points`;
    area.appendChild(resultBanner(prog.score > 0, prog.score >= 2 ? 'Historian!' : 'Keep studying!',
      `${prog.score} out of 3 points`, 'New events every day', scoreDiv, 'chronicle'));
    content.appendChild(area);
    return;
  }

  // Get all 5 events, sort by year for correct order
  const correctOrder = [...puzzle.events].sort((a, b) => a.year - b.year);

  // Shuffle for display
  const seed = getDayIndex(9999, GAME_OFFSETS.chronicle) + 7;
  const shuffled = [...correctOrder];
  let s = seed;
  for (let i = shuffled.length - 1; i > 0; i--) {
    s = (s * 1664525 + 1013904223) & 0xffffffff;
    const j = Math.abs(s) % (i + 1);
    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
  }

  let attempts = prog.attempts || 0;
  const maxAttempts = 3;
  let currentOrder = [...shuffled];
  let correctPositions = new Set();

  content.innerHTML = '';
  const area = document.createElement('div');
  area.className = 'game-area';

  const roundLbl = document.createElement('div');
  roundLbl.className = 'prompt-label';
  roundLbl.textContent = 'Order 5 events chronologically ‚Äî earliest to most recent';
  area.appendChild(roundLbl);

  const attLbl = document.createElement('div');
  attLbl.style.cssText = 'font-size:11px;color:var(--muted);letter-spacing:1px;margin-bottom:16px;';
  attLbl.textContent = `Attempts: ${attempts} / ${maxAttempts}`;
  area.appendChild(attLbl);

  const fb = document.createElement('div');
  fb.id = 'chronicle-fb';
  area.appendChild(fb);

  const submitBtn = document.createElement('button');
  submitBtn.className = 'submit-btn';
  submitBtn.style.marginBottom = '16px';
  submitBtn.textContent = 'Submit Order';
  area.appendChild(submitBtn);

  const evtList = document.createElement('div');
  evtList.className = 'chronicle-events';
  area.appendChild(evtList);

  let dragging = null;

  function renderEvents() {
    evtList.innerHTML = '';
    currentOrder.forEach((evt, i) => {
      const row = document.createElement('div');
      row.className = 'chronicle-event';
      if (correctPositions.has(i)) row.classList.add('correct-pos');

      row.draggable = !correctPositions.has(i);

      const handle = document.createElement('span');
      handle.className = 'event-handle';
      handle.textContent = correctPositions.has(i) ? '‚úì' : '‚†ø';
      row.appendChild(handle);

      const num = document.createElement('span');
      num.className = 'event-num';
      num.textContent = i + 1;
      row.appendChild(num);

      const txt = document.createElement('span');
      txt.textContent = evt.text;
      txt.style.flex = '1';
      row.appendChild(txt);

      if (!correctPositions.has(i)) {
        row.addEventListener('dragstart', () => { dragging = i; row.classList.add('dragging'); });
        row.addEventListener('dragend', () => { row.classList.remove('dragging'); dragging = null; });
        row.addEventListener('dragover', e => { e.preventDefault(); });
        row.addEventListener('drop', e => {
          e.preventDefault();
          if (dragging !== null && dragging !== i && !correctPositions.has(dragging)) {
            const newOrder = [...currentOrder];
            const [removed] = newOrder.splice(dragging, 1);
            newOrder.splice(i, 0, removed);
            currentOrder = newOrder;
            renderEvents();
          }
        });

        const btnWrap = document.createElement('div');
        btnWrap.style.cssText = 'display:flex;gap:4px;margin-left:auto;flex-shrink:0;';
        if (i > 0 && !correctPositions.has(i - 1)) {
          const up = document.createElement('button');
          up.textContent = '‚Üë';
          up.style.cssText = 'padding:4px 10px;background:var(--paper3);border:1px solid var(--border);border-radius:6px;cursor:pointer;font-size:12px;color:var(--ink);transition:all .15s;';
          up.onmouseover = () => { up.style.borderColor = 'var(--accent)'; };
          up.onmouseout = () => { up.style.borderColor = 'var(--border)'; };
          up.onclick = (e) => { e.stopPropagation(); [currentOrder[i], currentOrder[i-1]] = [currentOrder[i-1], currentOrder[i]]; renderEvents(); };
          btnWrap.appendChild(up);
        }
        if (i < currentOrder.length - 1 && !correctPositions.has(i + 1)) {
          const dn = document.createElement('button');
          dn.textContent = '‚Üì';
          dn.style.cssText = 'padding:4px 10px;background:var(--paper3);border:1px solid var(--border);border-radius:6px;cursor:pointer;font-size:12px;color:var(--ink);transition:all .15s;';
          dn.onmouseover = () => { dn.style.borderColor = 'var(--accent)'; };
          dn.onmouseout = () => { dn.style.borderColor = 'var(--border)'; };
          dn.onclick = (e) => { e.stopPropagation(); [currentOrder[i], currentOrder[i+1]] = [currentOrder[i+1], currentOrder[i]]; renderEvents(); };
          btnWrap.appendChild(dn);
        }
        row.appendChild(btnWrap);
      }

      evtList.appendChild(row);
    });
  }
  renderEvents();

  submitBtn.onclick = () => {
    attempts++;
    attLbl.textContent = `Attempts: ${attempts} / ${maxAttempts}`;

    const allCorrect = currentOrder.every((evt, i) => evt.year === correctOrder[i].year);
    correctPositions = new Set();
    currentOrder.forEach((evt, i) => {
      if (evt.year === correctOrder[i].year) correctPositions.add(i);
    });
    renderEvents();

    if (allCorrect) {
      const pts = Math.max(1, maxAttempts - attempts + 1);
      prog.score = pts;
      prog.finished = true;
      prog.attempts = attempts;
      saveProgress('chronicle', prog);
      fb.className = 'feedback-msg good';
      fb.textContent = `‚úì Perfect order! +${pts} point${pts !== 1 ? 's' : ''}`;
      submitBtn.disabled = true;
      setTimeout(() => {
        content.innerHTML = '';
        const a2 = document.createElement('div');
        a2.className = 'game-area';
        const sd = document.createElement('div');
        sd.className = 'result-score';
        sd.textContent = `${pts} / 3 points`;
        a2.appendChild(resultBanner(true, 'Historian!', `Solved in ${attempts} attempt${attempts !== 1 ? 's' : ''}`, 'New events every day', sd, 'chronicle'));
        content.appendChild(a2);
      }, 1200);
    } else if (attempts >= maxAttempts) {
      prog.score = 0;
      prog.finished = true;
      prog.attempts = attempts;
      saveProgress('chronicle', prog);
      fb.className = 'feedback-msg bad';
      fb.textContent = 'Out of attempts!';
      submitBtn.disabled = true;
      // Show correct order
      const hint = document.createElement('div');
      hint.style.cssText = 'font-size:12px;color:var(--muted);margin-top:12px;background:var(--paper2);border:1px solid var(--border);border-radius:12px;padding:16px;';
      hint.innerHTML = '<div style="font-size:9px;letter-spacing:3px;text-transform:uppercase;color:var(--accent-light);margin-bottom:8px;">Correct Order</div>';
      correctOrder.forEach(e => {
        hint.innerHTML += `<div style="padding:4px 0;border-bottom:1px solid var(--border)">${e.year}: ${e.text}</div>`;
      });
      area.appendChild(hint);
    } else {
      fb.className = 'feedback-msg bad';
      fb.textContent = `Not quite ‚Äî ${correctPositions.size} of 5 in the right position. ${maxAttempts - attempts} attempt${maxAttempts - attempts !== 1 ? 's' : ''} left.`;
    }
  };

  content.appendChild(area);
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GAME 3: WAVELENGTH (Science Spectrum)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

// Helper: convert a real value to 0-100 position on a log scale
function valueToLogPosition(value, scaleMin, scaleMax) {
  if (value <= 0) value = scaleMin;
  const logMin = Math.log10(scaleMin);
  const logMax = Math.log10(scaleMax);
  const logVal = Math.log10(value);
  return Math.max(0, Math.min(100, ((logVal - logMin) / (logMax - logMin)) * 100));
}

// Helper: convert 0-100 slider position back to a real value
function logPositionToValue(pos, scaleMin, scaleMax) {
  const logMin = Math.log10(scaleMin);
  const logMax = Math.log10(scaleMax);
  const logVal = logMin + (pos / 100) * (logMax - logMin);
  return Math.pow(10, logVal);
}

// Helper: format scientific values for display
function formatSciValue(value, unit) {
  if (value === 0) return `0 ${unit}`;
  const absVal = Math.abs(value);
  // Special display for certain units
  if (unit === 'm' && absVal >= 1e-9 && absVal < 1e-6) return `${(value * 1e9).toPrecision(3)} nm`;
  if (unit === 'm' && absVal >= 1e-6 && absVal < 1e-3) return `${(value * 1e6).toPrecision(3)} Œºm`;
  if (unit === 'm' && absVal >= 1e-3 && absVal < 1) return `${(value * 1e3).toPrecision(3)} mm`;
  if (unit === 'm' && absVal >= 1e3 && absVal < 1e6) return `${(value / 1e3).toPrecision(3)} km`;
  if (unit === 'm' && absVal >= 1e6 && absVal < 1e9) return `${(value / 1e6).toPrecision(3)} Mm`;
  if (unit === 'm' && absVal >= 1e9 && absVal < 1e12) return `${(value / 1e9).toPrecision(3)} Gm`;
  if (unit === 'm' && absVal >= 9e15) return `${(value / 9.461e15).toPrecision(3)} ly`;
  if (unit === 'K' && absVal >= 1 && absVal < 1e4) return `${value.toPrecision(4)} K (${(value - 273.15).toFixed(0)}¬∞C)`;
  if (unit === 'Hz' && absVal >= 1e3 && absVal < 1e6) return `${(value / 1e3).toPrecision(3)} kHz`;
  if (unit === 'Hz' && absVal >= 1e6 && absVal < 1e9) return `${(value / 1e6).toPrecision(3)} MHz`;
  if (unit === 'Hz' && absVal >= 1e9 && absVal < 1e12) return `${(value / 1e9).toPrecision(3)} GHz`;
  if (unit === 'Hz' && absVal >= 1e12) return `${(value / 1e12).toPrecision(3)} THz`;
  if (unit === 'Pa' && absVal >= 1e3 && absVal < 1e6) return `${(value / 1e3).toPrecision(3)} kPa`;
  if (unit === 'Pa' && absVal >= 1e6 && absVal < 1e9) return `${(value / 1e6).toPrecision(3)} MPa`;
  if (unit === 'Pa' && absVal >= 1e9) return `${(value / 1e9).toPrecision(3)} GPa`;
  if (unit === 'N' && absVal >= 1e3 && absVal < 1e6) return `${(value / 1e3).toPrecision(3)} kN`;
  if (unit === 'N' && absVal >= 1e6 && absVal < 1e9) return `${(value / 1e6).toPrecision(3)} MN`;
  if (unit === 'J' && absVal >= 1e3 && absVal < 1e6) return `${(value / 1e3).toPrecision(3)} kJ`;
  if (unit === 'J' && absVal >= 1e6 && absVal < 1e9) return `${(value / 1e6).toPrecision(3)} MJ`;
  if (unit === 'J' && absVal >= 1e9 && absVal < 1e12) return `${(value / 1e9).toPrecision(3)} GJ`;
  if (unit === 'kg' && absVal < 1e-3) {
    if (absVal >= 1e-6) return `${(value * 1e6).toPrecision(3)} Œºg`;
    if (absVal >= 1e-9) return `${(value * 1e9).toPrecision(3)} ng`;
  }
  if (unit === 'kg' && absVal >= 1e3 && absVal < 1e6) return `${(value / 1e3).toPrecision(3)} tonnes`;
  if (unit === 'm/s' && absVal >= 1e3) return `${(value / 1e3).toPrecision(3)} km/s`;
  // General scientific notation
  if (absVal >= 1e6 || absVal < 0.01) return `${value.toExponential(2)} ${unit}`;
  if (absVal >= 100) return `${value.toPrecision(4)} ${unit}`;
  return `${value.toPrecision(3)} ${unit}`;
}

function renderWavelength() {
  howToPlay(`
    A scientific object or phenomenon appears. Place it at the <strong>correct position</strong> on a real logarithmic scale.<br><br>
    Each day features a different science category: EM wavelengths, energy, force, speed, temperature, frequency, mass, pressure, or distance.<br><br>
    Drag the slider to where you think the value falls. <strong>Scoring:</strong> üéØ Bullseye = 3 pts, Close = 2 pts, Nearby = 1 pt, Miss = 0.<br><br>
    5 rounds ¬∑ New category every <strong>day</strong>.
  `, startWavelength);
}

function startWavelength() {
  // Pick today's category (cycles through 9 categories)
  const catIdx = getDayIndex(WAVELENGTH_CATEGORIES.length, GAME_OFFSETS.wavelength);
  const category = WAVELENGTH_CATEGORIES[catIdx];
  // Pick a puzzle set within this category
  const puzzleIdx = getDayIndex(category.puzzles.length, GAME_OFFSETS.wavelength + 100);
  const puzzle = category.puzzles[puzzleIdx];

  const prog = loadProgress('wavelength') || { round: 0, scores: [], finished: false };
  const content = document.getElementById('game-content');

  function startRound(roundIdx) {
    if (roundIdx >= puzzle.rounds.length) {
      prog.finished = true;
      saveProgress('wavelength', prog);
      const total = prog.scores.reduce((a, b) => a + b, 0);
      content.innerHTML = '';
      const area = document.createElement('div');
      area.className = 'game-area';
      area.appendChild(scoreBar(prog.scores));
      const sd = document.createElement('div');
      sd.className = 'result-score';
      sd.textContent = `${total} / ${puzzle.rounds.length * 3} points`;
      area.appendChild(resultBanner(total >= 10, total >= 10 ? 'Science whiz!' : 'Good effort!',
        `${total} out of ${puzzle.rounds.length * 3} points`, 'New category every day', sd, 'wavelength'));
      content.appendChild(area);
      return;
    }

    const round = puzzle.rounds[roundIdx];
    // Calculate the target position on the log scale (0-100)
    const targetPos = valueToLogPosition(round.value, category.scaleMin, category.scaleMax);

    content.innerHTML = '';
    const area = document.createElement('div');
    area.className = 'game-area';

    area.appendChild(roundProgress(prog.scores, puzzle.rounds.length, roundIdx));

    // Running score
    if (prog.scores.length > 0) {
      const runScore = document.createElement('div');
      runScore.style.cssText = 'text-align:center;font-size:13px;color:var(--muted);margin-bottom:4px;letter-spacing:1px;';
      const total = prog.scores.reduce((a, b) => a + b, 0);
      const max = prog.scores.length * 3;
      runScore.innerHTML = `Score: <strong style="color:var(--accent-light)">${total}</strong> / ${max}`;
      area.appendChild(runScore);
    }

    // Category badge
    const catBadge = document.createElement('div');
    catBadge.className = 'wl-category-badge';
    catBadge.textContent = `${category.name} (${category.unit})`;
    area.appendChild(catBadge);

    const roundLbl = document.createElement('div');
    roundLbl.className = 'prompt-label';
    roundLbl.textContent = `Round ${roundIdx + 1} of ${puzzle.rounds.length}`;
    area.appendChild(roundLbl);

    const wordDiv = document.createElement('div');
    wordDiv.className = 'big-prompt';
    wordDiv.innerHTML = `Where does <strong style="color:var(--accent-light)">${round.item}</strong> fall on this scale?`;
    area.appendChild(wordDiv);

    // Hint
    if (round.hint) {
      const hintDiv = document.createElement('div');
      hintDiv.className = 'wl-hint';
      hintDiv.textContent = round.hint;
      area.appendChild(hintDiv);
    }

    const specWrap = document.createElement('div');
    const specBar = document.createElement('div');
    specBar.className = 'spectrum-bar';
    specBar.style.background = category.gradient;
    const midTick = document.createElement('div');
    midTick.className = 'mid-tick';
    specBar.appendChild(midTick);
    specWrap.appendChild(specBar);

    const labels = document.createElement('div');
    labels.className = 'spectrum-labels';
    const midValue = Math.sqrt(category.scaleMin * category.scaleMax);
    const midLabel = formatSciValue(midValue, category.unit);
    labels.innerHTML = `<span>${category.scaleLabel.left}</span><span class="mid-label">${midLabel}</span><span>${category.scaleLabel.right}</span>`;
    specWrap.appendChild(labels);
    area.appendChild(specWrap);

    const slider = document.createElement('input');
    slider.type = 'range';
    slider.min = 0; slider.max = 100; slider.value = 50;
    slider.className = 'spectrum-slider';

    const marker = document.createElement('div');
    marker.className = 'spectrum-guess-marker';
    marker.style.left = '50%';
    specBar.appendChild(marker);

    slider.oninput = () => { marker.style.left = slider.value + '%'; };
    area.appendChild(slider);

    const fb = document.createElement('div');
    fb.id = 'wl-fb';
    area.appendChild(fb);

    const submitBtn = document.createElement('button');
    submitBtn.className = 'submit-btn';
    submitBtn.textContent = 'Lock It In';
    submitBtn.onclick = () => {
      const guessPos = parseInt(slider.value);
      const diff = Math.abs(guessPos - targetPos);
      const tol = round.tolerance || 12;
      let pts = 0;
      let msg = '';
      if (diff <= tol * 0.33) { pts = 3; msg = 'üéØ Right on!'; }
      else if (diff <= tol * 0.66) { pts = 2; msg = '‚úì Close!'; }
      else if (diff <= tol) { pts = 1; msg = '‚âà Nearby'; }
      else { pts = 0; msg = '‚úó Off target'; }

      slider.disabled = true;
      submitBtn.disabled = true;
      submitBtn.style.transition = 'opacity 0.3s ease, transform 0.3s ease';
      submitBtn.style.opacity = '0.4';
      submitBtn.style.transform = 'scale(0.97)';

      // Settle the guess marker
      marker.style.animation = 'markerSettle 0.4s cubic-bezier(.25,.46,.45,.94) forwards';

      // Show target marker after a brief pause
      setTimeout(() => {
        const targetMarker = document.createElement('div');
        targetMarker.className = 'spectrum-target';
        targetMarker.style.left = targetPos + '%';
        specBar.appendChild(targetMarker);
      }, 300);

      // Show feedback after target appears
      setTimeout(() => {
        fb.className = 'feedback-msg ' + (pts > 0 ? 'good' : 'bad');
        fb.style.animation = 'feedbackAppear 0.35s ease forwards';
        fb.textContent = `${msg} ¬∑ +${pts} point${pts !== 1 ? 's' : ''}`;
      }, 650);

      // Show the actual value with a slide-in
      setTimeout(() => {
        const valReveal = document.createElement('div');
        valReveal.className = 'wl-value-reveal';
        valReveal.style.animation = 'valueRevealSlide 0.4s ease forwards';
        valReveal.textContent = `${round.item}: ${formatSciValue(round.value, category.unit)}`;
        fb.after(valReveal);
      }, 900);

      prog.scores.push(pts);
      prog.round = roundIdx + 1;
      saveProgress('wavelength', prog);

      // Fade out the whole round before transitioning
      setTimeout(() => {
        area.style.animation = 'roundFadeOut 0.35s ease forwards';
        setTimeout(() => startRound(roundIdx + 1), 400);
      }, 2600);
    };
    area.appendChild(submitBtn);
    content.appendChild(area);
  }

  if (prog.finished) {
    const total = prog.scores.reduce((a, b) => a + b, 0);
    const area = document.createElement('div');
    area.className = 'game-area';
    area.appendChild(scoreBar(prog.scores));
    const sd = document.createElement('div');
    sd.className = 'result-score';
    sd.textContent = `${total} / ${puzzle.rounds.length * 3} points`;
    area.appendChild(resultBanner(total >= 10, total >= 10 ? 'Science whiz!' : 'Good effort!',
      `${total} out of ${puzzle.rounds.length * 3} points`, 'New category every day', sd, 'wavelength'));
    document.getElementById('game-content').appendChild(area);
  } else {
    startRound(prog.round);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// GAME 4: MIMIC
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
function renderMimic() {
  howToPlay(`
    A hidden <strong>5-letter word</strong> must be found using clues. Each round has <strong>3 clues</strong> of increasing specificity.<br><br>
    You may guess after any clue. The fewer clues you use, the more points:<br>
    ‚Üí After clue 1: <strong>3 points</strong> ¬∑ After clue 2: <strong>2 points</strong> ¬∑ After clue 3: <strong>1 point</strong><br><br>
    You get <strong>2 guesses per clue level</strong>. Letters turn <span style="color:var(--sage)">green</span> (correct), <span style="color:var(--gold)">gold</span> (wrong position), or grey (absent).<br><br>
    5 rounds ¬∑ New words every <strong>day</strong>.
  `, startMimic);
}

function startMimic() {
  const puzzle = MIMIC_POOL[getDayIndex(MIMIC_POOL.length, GAME_OFFSETS.mimic)];
  const prog = loadProgress('mimic') || { round: 0, scores: [], finished: false };
  const content = document.getElementById('game-content');

  function startRound(roundIdx) {
    if (roundIdx >= puzzle.rounds.length) {
      prog.finished = true;
      saveProgress('mimic', prog);
      const total = prog.scores.reduce((a, b) => a + b, 0);
      content.innerHTML = '';
      const area = document.createElement('div');
      area.className = 'game-area';
      area.appendChild(scoreBar(prog.scores));
      const sd = document.createElement('div');
      sd.className = 'result-score';
      sd.textContent = `${total} / ${puzzle.rounds.length * 3} points`;
      area.appendChild(resultBanner(total >= 12, total >= 12 ? 'Word master!' : 'Well played!',
        `${total} out of ${puzzle.rounds.length * 3} points`, 'New words every day', sd, 'mimic'));
      content.appendChild(area);
      return;
    }

    const round = puzzle.rounds[roundIdx];
    const word = round.word;
    let clueLevel = 0;
    let guessesThisLevel = 0;
    const maxGuessesPerLevel = 2;
    let allGuesses = [];

    content.innerHTML = '';
    const area = document.createElement('div');
    area.className = 'game-area';

    area.appendChild(roundProgress(prog.scores, puzzle.rounds.length, roundIdx));

    const rl = document.createElement('div');
    rl.className = 'prompt-label';
    rl.textContent = `Round ${roundIdx + 1} of ${puzzle.rounds.length} ¬∑ 5-letter word`;
    area.appendChild(rl);

    const diffDiv = document.createElement('div');
    diffDiv.className = 'mimic-difficulty easy';
    diffDiv.textContent = 'CLUE 1 (easy) ¬∑ 3 pts if solved now';
    area.appendChild(diffDiv);

    const clueDiv = document.createElement('div');
    clueDiv.className = 'big-prompt';
    clueDiv.textContent = round.clues[0];
    area.appendChild(clueDiv);

    const guessesArea = document.createElement('div');
    guessesArea.id = 'mimic-guesses';
    area.appendChild(guessesArea);

    const fb = document.createElement('div');
    fb.id = 'mimic-fb';
    area.appendChild(fb);

    const inputRow = document.createElement('div');
    inputRow.className = 'input-row';
    const inp = document.createElement('input');
    inp.className = 'game-input';
    inp.maxLength = 5;
    inp.placeholder = 'Enter 5-letter word‚Ä¶';
    inp.style.textTransform = 'uppercase';
    inp.oninput = () => { inp.value = inp.value.toUpperCase().replace(/[^A-Z]/g, ''); };
    const submitBtn = document.createElement('button');
    submitBtn.className = 'submit-btn';
    submitBtn.textContent = 'Guess';
    inputRow.appendChild(inp);
    inputRow.appendChild(submitBtn);
    area.appendChild(inputRow);

    const nextClueBtn = document.createElement('button');
    nextClueBtn.className = 'back-btn';
    nextClueBtn.style.marginTop = '8px';
    nextClueBtn.textContent = 'Get Next Clue (‚àí1 pt)';
    nextClueBtn.style.display = clueLevel >= 2 ? 'none' : 'block';
    area.appendChild(nextClueBtn);

    function getPts() { return Math.max(1, 3 - clueLevel); }

    function renderGuessRow(guess) {
      const row = document.createElement('div');
      row.className = 'mimic-blanks';
      const colors = Array(5).fill('absent');
      const remaining = {};
      for (let i = 0; i < 5; i++) remaining[word[i]] = (remaining[word[i]] || 0) + 1;
      // Green pass
      for (let i = 0; i < 5; i++) {
        if (guess[i] === word[i]) { colors[i] = 'correct'; remaining[guess[i]]--; }
      }
      // Gold pass
      for (let i = 0; i < 5; i++) {
        if (colors[i] !== 'correct' && guess[i] && remaining[guess[i]] > 0) {
          colors[i] = 'present'; remaining[guess[i]]--;
        }
      }
      for (let i = 0; i < 5; i++) {
        const box = document.createElement('div');
        box.className = 'letter-box';
        box.textContent = guess[i] || '';
        if (guess[i]) box.classList.add(colors[i]);
        box.style.animationDelay = (i * 0.08) + 's';
        row.appendChild(box);
      }
      guessesArea.appendChild(row);
    }

    function updateDiffLabel() {
      const labels = ['CLUE 1 (easy) ¬∑ 3 pts if solved now', 'CLUE 2 (medium) ¬∑ 2 pts if solved now', 'CLUE 3 (hard) ¬∑ 1 pt if solved now'];
      const classes = ['easy', 'medium', 'hard'];
      diffDiv.className = 'mimic-difficulty ' + classes[clueLevel];
      diffDiv.textContent = labels[clueLevel];
    }

    function advanceClue() {
      if (clueLevel < 2) {
        clueLevel++;
        guessesThisLevel = 0;
        clueDiv.textContent = round.clues[clueLevel];
        clueDiv.style.animation = 'none';
        clueDiv.offsetHeight;
        clueDiv.style.animation = 'fadeIn 0.3s ease';
        updateDiffLabel();
        nextClueBtn.style.display = clueLevel >= 2 ? 'none' : 'block';
      }
    }

    function doGuess() {
      const guess = inp.value.trim().toUpperCase();
      if (guess.length !== 5) { fb.className = 'feedback-msg bad'; fb.textContent = 'Enter a 5-letter word.'; return; }
      guessesThisLevel++;
      allGuesses.push(guess);
      renderGuessRow(guess);
      inp.value = '';
      inp.focus();

      if (guess === word) {
        const pts = getPts();
        fb.className = 'feedback-msg good';
        fb.textContent = `‚úì ${word}! +${pts} point${pts !== 1 ? 's' : ''}`;
        inputRow.style.display = 'none';
        nextClueBtn.style.display = 'none';
        prog.scores.push(pts);
        prog.round = roundIdx + 1;
        saveProgress('mimic', prog);
        setTimeout(() => startRound(roundIdx + 1), 1400);
        return;
      }

      if (guessesThisLevel >= maxGuessesPerLevel) {
        if (clueLevel < 2) {
          advanceClue();
          fb.className = 'feedback-msg bad';
          fb.textContent = 'Out of guesses at this level ‚Äî next clue unlocked.';
        } else {
          // All guesses exhausted
          fb.className = 'feedback-msg bad';
          fb.textContent = `The word was: ${word}`;
          inputRow.style.display = 'none';
          nextClueBtn.style.display = 'none';
          prog.scores.push(0);
          prog.round = roundIdx + 1;
          saveProgress('mimic', prog);
          setTimeout(() => startRound(roundIdx + 1), 1800);
        }
      } else {
        fb.className = 'feedback-msg bad';
        fb.textContent = `Not quite. ${maxGuessesPerLevel - guessesThisLevel} guess left at this clue level.`;
      }
    }

    submitBtn.onclick = doGuess;
    inp.addEventListener('keydown', e => { if (e.key === 'Enter') doGuess(); });

    nextClueBtn.onclick = () => {
      if (clueLevel >= 2) return;
      advanceClue();
      fb.className = '';
      fb.textContent = '';
    };

    content.appendChild(area);
    inp.focus();
  }

  if (prog.finished) {
    const total = prog.scores.reduce((a, b) => a + b, 0);
    const area = document.createElement('div');
    area.className = 'game-area';
    area.appendChild(scoreBar(prog.scores));
    const sd = document.createElement('div');
    sd.className = 'result-score';
    sd.textContent = `${total} / ${puzzle.rounds.length * 3} points`;
    area.appendChild(resultBanner(total >= 12, total >= 12 ? 'Word master!' : 'Well played!',
      `${total} out of ${puzzle.rounds.length * 3} points`, 'New words every day', sd, 'mimic'));
    document.getElementById('game-content').appendChild(area);
  } else {
    startRound(prog.round);
  }
}

// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// INIT ‚Äî launch directly into a game (no hub)
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
(function() {
  const hash = window.location.hash.replace('#', '').toLowerCase();
  const game = GAMES.find(g => g.id === hash) || GAMES[0];
  requestAnimationFrame(() => { requestAnimationFrame(() => { launchGame(game); }); });

  window.addEventListener('hashchange', () => {
    const h = window.location.hash.replace('#', '').toLowerCase();
    const g = GAMES.find(g => g.id === h) || GAMES[0];
    launchGame(g);
  });
})();
</script>
<script src="../shared/recommendations.js" defer></script>
</body>
</html>
