<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>BREAKPOINT</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div id="start-screen">
  <h1 class="title">BREAK<span>POINT</span></h1>
  <div class="subtitle">Tactical Card Duel</div>
  <div class="difficulty-select">
    <button class="diff-btn" data-diff="easy">EASY</button>
    <button class="diff-btn selected" data-diff="medium">MEDIUM</button>
    <button class="diff-btn" data-diff="hard">HARD</button>
  </div>
  <div class="rules-box">
    <h2>How to Play</h2>
    <div class="rules-grid">
      <div class="rule-card">
        <div class="rule-icon">â™ </div>
        <div class="rule-title">Spades â€” Attack</div>
        <div class="rule-desc">Deal damage equal to card value. Face cards = 10, Ace = 11. Add stored charge for burst damage (max 25).</div>
      </div>
      <div class="rule-card">
        <div class="rule-icon hearts">â™¥</div>
        <div class="rule-title">Hearts â€” Guard</div>
        <div class="rule-desc">Block damage equal to card value. Excess block heals you (max 5). Play on your turn to prepare a guard for the next attack.</div>
      </div>
      <div class="rule-card">
        <div class="rule-icon diamonds">â™¦</div>
        <div class="rule-title">Diamonds â€” Charge</div>
        <div class="rule-desc">Store power. Unleash all stored charge on your next attack. But if charge exceeds 12 â€” risk explosion!</div>
      </div>
      <div class="rule-card">
        <div class="rule-icon clubs">â™£</div>
        <div class="rule-title">Clubs â€” Counter</div>
        <div class="rule-desc">Play when attacked only. If your club beats their attack value: negate it and reflect damage back.</div>
      </div>
    </div>
    <div class="rules-extras">
      <p>âš¡ <b>Breakpoint:</b> Play 2+ consecutive values across turns (e.g. 6â†’7) for +3 damage, draw 1 card, or steal charge</p>
      <p>ğŸ”¥ <b>Pressure:</b> Don't attack for 2 turns = +1 pressure. At 3 pressure = lose your hand + 5 HP</p>
      <p>ğŸ’ <b>Overcharge:</b> Stored charge > 12? Flip a card â€” black = 10 damage + lose all charge</p>
      <p>ğŸ’¥ <b>Momentum:</b> Deal 10+ damage in one hit = play 2 cards next turn</p>
    </div>
  </div>
  <button id="deal-btn">DEAL</button>
</div>

<div id="game-screen" class="hidden">
  <div id="screen-flash"></div>
  <div id="floating-texts"></div>
  <div id="turn-indicator" class="hidden"></div>

  <div id="top-bar">
    <div class="player-info opponent-info">
      <div class="player-name">OPPONENT</div>
      <div class="hp-bar-container">
        <div class="hp-bar" id="opp-hp-bar"><span id="opp-hp-text">30</span></div>
      </div>
      <div class="status-icons">
        <div class="status-item" id="opp-pressure" title="Pressure">ğŸ”¥ <span>0</span></div>
        <div class="status-item" id="opp-momentum" title="Momentum">âš¡ <span>off</span></div>
        <div class="status-item" id="opp-charge-total" title="Total Charge">â™¦ <span>0</span></div>
      </div>
    </div>
    <div class="deck-info">
      <div id="deck-count">ğŸ‚  <span>42</span></div>
    </div>
    <div class="player-info player-info-right">
      <div class="player-name">YOU</div>
      <div class="hp-bar-container">
        <div class="hp-bar player-hp" id="player-hp-bar"><span id="player-hp-text">30</span></div>
      </div>
      <div class="status-icons">
        <div class="status-item" id="player-pressure" title="Pressure">ğŸ”¥ <span>0</span></div>
        <div class="status-item" id="player-momentum" title="Momentum">âš¡ <span>off</span></div>
        <div class="status-item" id="player-charge-total" title="Total Charge">â™¦ <span>0</span></div>
      </div>
    </div>
  </div>

  <div id="opponent-hand"></div>

  <div id="middle-area">
    <div id="opp-charge-pile" class="charge-pile">
      <div class="charge-label">OPP CHARGE</div>
      <div class="charge-total-value" id="opp-charge-value">0</div>
    </div>
    <div id="play-area">
      <div id="opp-played" class="played-slot"></div>
      <div id="draw-pile" class="card card-back">ğŸ‚ </div>
      <div id="player-played" class="played-slot"></div>
    </div>
    <div id="player-charge-pile" class="charge-pile">
      <div class="charge-label">YOUR CHARGE</div>
      <div class="charge-total-value" id="player-charge-value">0</div>
    </div>
  </div>

  <div id="combo-tracker">
    <span id="combo-label">COMBO:</span> <span id="combo-values"></span>
  </div>

  <div id="prepared-guard" class="hidden">
    <span id="prepared-guard-icon">ğŸ›¡ï¸</span>
    <span id="prepared-guard-text"></span>
  </div>

  <div id="player-hand"></div>

  <div id="action-bar">
    <button id="play-btn" class="action-btn hidden">PLAY CARD</button>
    <button id="pass-btn" class="action-btn hidden">PASS</button>
    <button id="use-charge-btn" class="action-btn hidden">USE CHARGE</button>
  </div>

  <div id="log-toggle" onclick="document.getElementById('action-log').classList.toggle('collapsed')">ğŸ“œ Log</div>
  <div id="action-log" class="collapsed"></div>
  <button id="rules-toggle" title="Rules">â“</button>

  <!-- In-game rules modal -->
  <div id="rules-modal" class="modal hidden">
    <div class="modal-content rules-modal-content">
      <h2>Rules Reference</h2>
      <div class="rules-ref">
        <p><b>â™  Spades â€” Attack:</b> Damage = card value. Face = 10, Ace = 11. Use stored charge for burst (max 25).</p>
        <p><b>â™¥ Hearts â€” Guard:</b> Block damage = card value. Excess heals (max 5). Play on your turn to prepare.</p>
        <p><b>â™¦ Diamonds â€” Charge:</b> Store power. Unleash all on next attack. Charge > 12 = overcharge risk.</p>
        <p><b>â™£ Clubs â€” Counter:</b> Play when attacked only. Beat attack value â†’ negate + reflect damage back.</p>
        <hr>
        <p><b>âš¡ Breakpoint:</b> Play 2+ consecutive values (6â†’7) â†’ choose +3 dmg, draw 1, or steal charge.</p>
        <p><b>ğŸ”¥ Pressure:</b> No attacks for 2 turns = +1 pressure. At 3 = discard hand + lose 5 HP.</p>
        <p><b>ğŸ’ Overcharge:</b> Charge > 12 at turn start â†’ flip card. Black = 10 dmg + lose all charge.</p>
        <p><b>ğŸ’¥ Momentum:</b> 10+ damage in one hit â†’ play 2 cards next turn.</p>
      </div>
      <button id="close-rules" class="action-btn">GOT IT</button>
    </div>
  </div>

  <!-- Breakpoint choice modal -->
  <div id="breakpoint-modal" class="modal hidden">
    <div class="modal-content">
      <h2>âš¡ BREAKPOINT! âš¡</h2>
      <p>Choose your bonus:</p>
      <button class="bp-choice" data-choice="damage">+3 Damage on next attack</button>
      <button class="bp-choice" data-choice="draw">Draw 1 card</button>
      <button class="bp-choice" data-choice="steal">Steal 1 charge from opponent</button>
    </div>
  </div>

  <!-- Overcharge odds modal -->
  <div id="overcharge-modal" class="modal hidden">
    <div class="modal-content">
      <h2>ğŸ’ Overcharge Check!</h2>
      <p id="overcharge-odds"></p>
      <div id="overcharge-result"></div>
    </div>
  </div>

  <!-- Guard/Counter response modal -->
  <div id="response-modal" class="modal hidden">
    <div class="modal-content" id="response-modal-content">
      <h2 id="response-title">You're being attacked!</h2>
      <p id="response-desc"></p>
      <div id="response-cards"></div>
      <button id="response-skip" class="action-btn">Take the hit</button>
    </div>
  </div>

  <!-- Game over modal -->
  <div id="gameover-modal" class="modal hidden">
    <div class="modal-content">
      <h2 id="gameover-title"></h2>
      <div id="gameover-stats"></div>
      <button id="play-again-btn" class="action-btn">PLAY AGAIN</button>
    </div>
  </div>

  <!-- Card tooltip -->
  <div id="card-tooltip" class="hidden"></div>
</div>

<script src="game.js"></script>
</body>
</html>
